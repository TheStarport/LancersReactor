<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>


<style type="text/css">
#global { width: 100%; }
</style>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />


<title>Lancers Reactor Forums &bull; View topic - Annoying NPC problem</title>

<link href="./styles/ca_orbital/theme/stylesheet.css" rel="stylesheet" type="text/css" media="screen, projection" />
<link media="only screen and (max-device-width: 480px)" href="./styles/ca_orbital/theme/iphone.css" type="text/css" rel="stylesheet" />

</head>

<body id="phpbb" class="section- ltr">
<div id="main">

<p class="top"><a id="top" name="top" accesskey="t"></a></p>

<div id="global" style="margin: 0 auto;">

    <p class="skiplink"><a href="#start_here">Skip to content</a></p>

	<!-- header start -->
    <div id="topnav">
        <div class="left"></div>
        <div class="right"></div>
        <ul class="linklist topnav leftside">
            <li>
                <a href="https://the-starport.com" title="The Starport">The Starport</a>
            </li>
            <li>
                <span>&bull;</span>
                <a href="https://the-starport.net/discord" title="The Starport Discord">Discord</a>
            </li>
        </ul>
    </div>
    

	<div id="logo"><a href="./index.php.html"><img src="./styles/ca_orbital/imageset/tlr_logo.png" alt="" title=""><span>Lancers Reactor Forums</span></a></div>
	<!-- header end -->

    <div id="page-header-msg">
		<div class="block-header"><span></span><div></div></div>
       <div class="block-content"><div class="block-inner"><div class="block-inner2">
            	
		<table width="100%">
			<tbody><tr><td style="text-align:center;width:100%;">

            <h2 style="color:red;">Important Message</h2>
            <h3>You are browsing the archived Lancers Reactor forums. You cannot register or login.<br>
            The content may be outdated and links may not be functional.</h3><br>
            <h4>To get the latest in Freelancer news, mods, modding and downloads, go to<br>
            	<a href="https://the-starport.com">The-Starport</a></h4>
    	</td></tr> 
    </tbody></table>
    
    	</div></div></div>
    <div class="block-footer"><span></span><div></div></div>
	</div>
    <p></p>
	<div id="page-header">
		<div class="navbar navbar-top" id="navbar-top">
            <div class="block-header"><span></span><div></div></div>
            <div class="block-content"><div class="block-inner"><div class="block-inner2">
            <ul class="linklist navlinks">
                <li class="icon-home"><span class="home-extra"><a href="./index.php.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="./viewforum.php_f=75.html">Freelancer Editing</a> <strong>&#8249;</strong> </span><a href="./viewforum.php_f=18.html">Freelancer General Editing Forum</a></li>
            </ul>
            <div class="block-clear"></div>
            </div></div></div>
            <div class="block-footer"><span></span><div></div></div>
		</div>
	</div>
    <p></p>

	<a name="start_here"></a>

	<div id="page-body">
		<div id="content-start"></div>
<h2 class="leftside"><a href="./viewtopic.php_f=18_t=46366" id="topic-title">Annoying NPC problem</a></h2>

<p class="rightside">
    
</p>
<div class="clear"></div>
<p class="forum-desc">The general place to discuss MOD''ing Freelancer! </p>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			3 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p35764" class="post">
		<div class="block-border block-block block-post block-post-first"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-0" href="javascript:void(0);">Starman Omega</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Thu Aug 30, 2007 8:30 am <span class="post-author-inline" style="display: none;">by Starman Omega</span></p>

			<h3 class="first"><a href="#p35764" class="post-subject">Annoying NPC problem</a></h3>

			

			<div class="content">For my mod, I added an Order base into one of the independant worlds. The problem is, in the area around it, after a few seconds of flying around all the NPCs converge on the middle of it and just sit there. No one docks, flies off, or does anything unless you make them attack you. And this doesn't seem to be a problem with the order; the same thing happens no matter if i change the population type to background or change the base's faction to the liberty navy.
<br />
<br />Here's my code:
<br />
<br />From the system file:
<br />
<br />[Object
<br />nickname = Iw04_03
<br />ids_name = 197409
<br />ids_info = 458944
<br />pos = -2500, 5200, 39000
<br />archetype = o_osiris2
<br />base = Iw04_03_Base
<br />dock_with = Iw04_03_Base
<br />reputation = fc_or_grp
<br />behavior = NOTHING
<br />visit = 0
<br />voice = atc_leg_m01
<br />space_costume = pl_male4_head, pi_orillion_body
<br />difficulty_level = 19
<br />loadout = or_osiris2
<br />pilot = pilot_solar_hardest
<br />
<br />[zone
<br />nickname = Zone_Iw04_03
<br />pos = -2500, 4600, 39000
<br />shape = ELLIPSOID
<br />size = 3500, 2500, 3500
<br />visit = 128
<br />comment = Osiris
<br />sort = 99.800000
<br />toughness = 15
<br />density = 6
<br />repop_time = 15
<br />max_battle_size = 8
<br />pop_type = fc_or_grp, single_base_law
<br />music = music_friendly_encouragement
<br />relief_time = 10
<br />faction_weight = li_lsf_grp, 5
<br />encounter = area_elites, 19, 0.030000
<br />faction = fc_or_grp, 1.000000
<br />encounter = area_bh_defend, 19, 0.040000
<br />faction = li_lsf_grp, 1.000000
<br />
<br />From mBases.ini:
<br />
<br />[MBase
<br />nickname = Iw04_03_Base
<br />local_faction = fc_or_grp
<br />diff = 19
<br />
<br />[MVendor
<br />num_offers = 0, 1
<br />
<br />[BaseFaction
<br />faction = li_n_grp
<br />weight = 6
<br />npc = iw0403_lnavy_001_m
<br />
<br />[BaseFaction
<br />faction = li_lsf_grp
<br />weight = 12
<br />npc = iw0403_lsf_001_f
<br />npc = iw0403_lsf_002_m
<br />
<br />[BaseFaction
<br />faction = br_n_grp
<br />weight = 6
<br />npc = iw0403_bnavy_001_m
<br />
<br />[BaseFaction
<br />faction = ku_n_grp
<br />weight = 6
<br />npc = iw0403_knavy_001_m
<br />
<br />[BaseFaction
<br />faction = rh_n_grp
<br />weight = 6
<br />npc = iw0403_rnavy_001_m
<br />
<br />[BaseFaction
<br />faction = fc_bd_grp
<br />weight = 6
<br />npc = iw0403_dragons_001_m
<br />
<br />[BaseFaction
<br />faction = fc_b_grp
<br />weight = 6
<br />npc = iw0403_bundschuh_001_m
<br />
<br />[BaseFaction
<br />faction = fc_or_grp
<br />weight = 72
<br />offers_missions = true
<br />mission_type = DestroyMission, 0.000000, 0.082100, 100
<br />npc = iw0403_order_001_m
<br />npc = iw0403_order_002_m
<br />npc = iw0403_order_003_m
<br />npc = iw0403_order_004_m
<br />npc = iw0403_order_005_m
<br />
<br />RUUUUUUN! GOOOOOOO! GET TO DAH CHOPPAH!!!</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p427000" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-1" href="javascript:void(0);">richard s</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Thu Aug 30, 2007 9:06 am <span class="post-author-inline" style="display: none;">by richard s</span></p>

			<h3><a href="#p427000" class="post-subject"></a></h3>

			

			<div class="content">i think you should put area trade in there check out this code from the order mod
<br />
<br />[zone
<br />nickname = Zone_Hi01_pop_osiris
<br />pos = 42776, 0, -7431
<br />shape = SPHERE
<br />size = 4000
<br />comment = osiris order base
<br />sort = 99.500000
<br />toughness = 19
<br />density = 15
<br />repop_time = 10
<br />max_battle_size = 8
<br />pop_type = fc_or_grp, single_base_law
<br />relief_time = 10
<br />faction_weight = fc_or_grp, 10
<br />density_restriction = 8, lawfuls
<br />encounter = area_scout, 19, 1.000000
<br />faction = fc_or_grp, 1.000000
<br />encounter = area_defend, 19, 1.000000
<br />faction = fc_or_grp, 1.000000
<br />encounter = area_trade_trader, 19, 0.270000
<br />faction = fc_or_grp, 1.000000
<br />i put the encounter area trade where i want the order to land like ryuku base and monkey planet and robot planet and toledo and now they land
<br /><a href='http://home.comcast.net/~rsabatino' Target=_Blank><img src=' <!-- m --><a class="postlink" href="http://i8.photobucket.com/albums/a11/rsabatino/evilempirerevolution.png'/">http://i8.photobucket.com/albums/a11/rs ... ion.png'/</a><!-- m -->&gt;</a>
<br />
<br />Edited by - richard s on 8/30/2007 10:08:21 AM</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p427049" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-2" href="javascript:void(0);">Futuristic M1</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Fri Aug 31, 2007 6:20 pm <span class="post-author-inline" style="display: none;">by Futuristic M1</span></p>

			<h3><a href="#p427049" class="post-subject"></a></h3>

			

			<div class="content">Starman Omega, the encounters that you put Zone_Iw04_03 only wander around aimlessly within the zone. This is the behaviour of freelancer. If you want to make ships dock and fly around to other places, then you must build patrol path encounters that have different ini strings than the one you use to make Zone_Iw04_03 zones.
<br />
<br />I had the problem too wondering why when I built these encounters, the original encounters would be working with ships going on planned routes.
<br />
<br />Then I figured it out, zone encounters like the one you made are not made by Freelancer to do anything but wander around doing nothing unless they are being scanned or enemies are attacking them and they attack.
<br />
<br />So I will say again, you will need to make patrol paths and they are very different from the encounter strings you have used. This is one example of a patrol path encounter you must make.
<br />
<br />And on a note, once you code it, it exists as a cylindrical bar. One of the ends must be close to a base, gate or dockable object or it will crash the game. Here is one example of the coding:
<br />
<br />[zone
<br />nickname = Zone_Li01_path_navy1_1
<br />pos = -58625, 0, 37048
<br />rotate = -90, -71, 0
<br />shape = CYLINDER
<br />size = 750, 50898
<br />sort = 99
<br />toughness = 1
<br />density = 3
<br />repop_time = 90
<br />max_battle_size = 4
<br />pop_type = lane_patrol
<br />relief_time = 30
<br />path_label = navy1, 1
<br />usage = patrol
<br />mission_eligible = True
<br />faction_weight = li_n_grp, 10
<br />density_restriction = 1, patroller
<br />density_restriction = 1, police_patroller
<br />density_restriction = 1, pirate_patroller
<br />density_restriction = 4, lawfuls
<br />density_restriction = 4, unlawfuls
<br />encounter = patrolp_gov_patrol, 1, 0.330000
<br />faction = li_n_grp, 1.000000
<br />
<br />As you read the code you will notice significant differences, but I will recommend you read 'Trying to understand encounter.pdf' file because they give you pictorial diagrams there telling you how to do it properly. Just reading this code I advise is not too effective unless you are really good with numbers and are familiar.
<br />
<br />Please note the bottom strings
<br />
<br />encounter = patrolp_gov_patrol, 1, 0.330000
<br />faction = li_n_grp, 1.000000
<br />
<br />notice that the encounter =  patrolp_gov_patrol has a significant difference in patrolp_gov_patrol.ini and area_bh_defend.ini you are using. See the examples below
<br />
<br />This is your area_bh_defend
<br />
<br />[EncounterFormation
<br />ship_by_class = 1, 1, sc_fighters
<br />pilot_job = defend_leader_job
<br />make_class = wanderer
<br />ship_by_class = 0, 1, sc_fighters, -1
<br />pilot_job = defend_job
<br />make_class = wanderer
<br />formation_by_class = fighters
<br /><b>&lt;span style="text-decoration: underline"&gt;behavior = wander</b>&lt;/span&gt;   &lt;==== This is the behaviour for the ships to 'wander' therefore this programs them to move around aimlessly unless they are scanned or are in a hostile situation. If they are not in those two states, they go back to normal of wandering around aimlessly.
<br />arrival = all, -tradelane, -object_jump_gate
<br />allow_simultaneous_creation = yes
<br />zone_creation_distance = 0
<br />times_to_create = infinite
<br />
<br />[Creation
<br />permutation = 0, 3
<br />
<br />___________________________________________________
<br />___________________________________________________
<br />
<br />This is the patrolp_gov_patrol.ini 
<br />
<br />[EncounterFormation
<br />ship_by_class = 1, 1, sc_fighters
<br />pilot_job = patrol_leader_job
<br />make_class = class_police_patroller
<br />ship_by_class = 3, 7, sc_fighters, -1
<br />pilot_job = patrol_job
<br />formation_by_class = fighters
<br /><b>&lt;span style="text-decoration: underline"&gt;behavior = patrol_path</b>&lt;/span&gt; &lt;===== not wander but now patrol_path
<br />arrival = cruise
<br />allow_simultaneous_creation = yes
<br />zone_creation_distance = 0
<br />times_to_create = infinite
<br />
<br />[EncounterFormation
<br />ship_by_class = 1, 1, sc_fighters
<br />pilot_job = patrol_leader_job
<br />make_class = class_police_patroller
<br />ship_by_class = 3, 15, sc_fighters, -1
<br />pilot_job = patrol_job
<br />formation_by_class = fighters
<br /><b>&lt;span style="text-decoration: underline"&gt;behavior = patrol_path</b>&lt;/span&gt; &lt;===== not wander but now patrol_path
<br />arrival = cruise
<br />allow_simultaneous_creation = yes
<br />zone_creation_distance = 0
<br />times_to_create = infinite
<br />
<br />[Creation
<br />permutation = 0, 3
<br />
<br />As you can see the behaviour string has something different, it identifies the patrol_path instead of wander. This commands the game that this is a patrol_path encounter and ships will then take on patrol_path behaviours
<br />
<br /><b>&lt;span style="text-decoration: underline"&gt; BUT don't change the area_bh_defend.ini wander into patrol_path!!! It doesn't work that way it will crash the game, because remember the encounter.ini files work in conjunction with the zones within the ini files stored in your individual universe folders!</b>&lt;/span&gt;
<br />
<br />So this means the patrol kind of encounters in the universe ini's must use encounter.ini files containing the string behaviour = patrol_path and the wandering ones that you have created use only the encounter.ini files using the string behaviour = wander.
<br />
<br /><img src=smilies/icon_smile.gif width=15 height=15 border=0 align=middle>
<br />
<br />Edited by - futuristic m1 on 9/1/2007 6:48:56 AM</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>



<div class="topic-actions">
	<div class="buttons" id="viewtopic-buttons">
	
		<div class="reply-icon"><a href="" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			3 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="./viewforum.php_f=18" class="left-box left" accesskey="r">Return to Freelancer General Editing Forum</a></p>

	<br /><br />
</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
</div>

	<div id="footer-clear">&nbsp;</div>
	<div class="copyright">
        <br />Hosted by <a href="https://the-starport.com">The Starport</a> &bull; Theme by <a href="https://www.stsoftware.biz/" ref="nofollow">ST Software</a>
	</div>


</div><!-- #global -->

</div>
</body>
</html>