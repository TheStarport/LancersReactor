<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>


<style type="text/css">
#global { width: 100%; }
</style>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />


<title>Lancers Reactor Forums &bull; View topic - Suggested FLMM fixes/enhancements (some for modders to do)</title>

<link href="./styles/ca_orbital/theme/stylesheet.css" rel="stylesheet" type="text/css" media="screen, projection" />
<link media="only screen and (max-device-width: 480px)" href="./styles/ca_orbital/theme/iphone.css" type="text/css" rel="stylesheet" />

</head>

<body id="phpbb" class="section- ltr">
<div id="main">

<p class="top"><a id="top" name="top" accesskey="t"></a></p>

<div id="global" style="margin: 0 auto;">

    <p class="skiplink"><a href="#start_here">Skip to content</a></p>

	<!-- header start -->
    <div id="topnav">
        <div class="left"></div>
        <div class="right"></div>
        <ul class="linklist topnav leftside">
            <li>
                <a href="https://the-starport.com" title="The Starport">The Starport</a>
            </li>
            <li>
                <span>&bull;</span>
                <a href="https://the-starport.net/discord" title="The Starport Discord">Discord</a>
            </li>
        </ul>
    </div>
    

	<div id="logo"><a href="./index.php.html"><img src="./styles/ca_orbital/imageset/tlr_logo.png" alt="" title=""><span>Lancers Reactor Forums</span></a></div>
	<!-- header end -->

    <div id="page-header-msg">
		<div class="block-header"><span></span><div></div></div>
       <div class="block-content"><div class="block-inner"><div class="block-inner2">
            	
		<table width="100%">
			<tbody><tr><td style="text-align:center;width:100%;">

            <h2 style="color:red;">Important Message</h2>
            <h3>You are browsing the archived Lancers Reactor forums. You cannot register or login.<br>
            The content may be outdated and links may not be functional.</h3><br>
            <h4>To get the latest in Freelancer news, mods, modding and downloads, go to<br>
            	<a href="https://the-starport.com">The-Starport</a></h4>
    	</td></tr> 
    </tbody></table>
    
    	</div></div></div>
    <div class="block-footer"><span></span><div></div></div>
	</div>
    <p></p>
	<div id="page-header">
		<div class="navbar navbar-top" id="navbar-top">
            <div class="block-header"><span></span><div></div></div>
            <div class="block-content"><div class="block-inner"><div class="block-inner2">
            <ul class="linklist navlinks">
                <li class="icon-home"><span class="home-extra"><a href="./index.php.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="./viewforum.php_f=76.html">Freelancer MOD</a> <strong>&#8249;</strong> </span><a href="./viewforum.php_f=32.html">Freelancer Mod Manager</a></li>
            </ul>
            <div class="block-clear"></div>
            </div></div></div>
            <div class="block-footer"><span></span><div></div></div>
		</div>
	</div>
    <p></p>

	<a name="start_here"></a>

	<div id="page-body">
		<div id="content-start"></div>
<h2 class="leftside"><a href="./viewtopic.php_f=32_t=38900" id="topic-title">Suggested FLMM fixes/enhancements (some for modders to do)</a></h2>

<p class="rightside">
    
</p>
<div class="clear"></div>
<p class="forum-desc">Here you can find news, get help and comment about the ?Freelancer Mod Manager (FLMM)? for activating/deactivating Mods for Freelancer</p>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			12 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p29339" class="post">
		<div class="block-border block-block block-post block-post-first"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-0" href="javascript:void(0);">WatercoolerWarrior</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Sun May 08, 2005 4:59 am <span class="post-author-inline" style="display: none;">by WatercoolerWarrior</span></p>

			<h3 class="first"><a href="#p29339" class="post-subject">Suggested FLMM fixes/enhancements (some for modders to do)</a></h3>

			

			<div class="content">Some minor enhancements to FLMM could help make modding easier and more trouble-free. I'm mentioning a few items I've noticed in the past few weeks; many CAN be worked with by using other tools, of course. In fact, the primary hurdle to many issues is just that we don't know all the internal details of how FLMM operates; in some ways it's &quot;mod magic&quot;.
<br />
<br />I don't know if Matthew is planning to do much more with this - he's done plenty already <img src=smilies/icon_smile.gif width=15 height=15 border=0 align=middle> - but a few of the items below can be done by FLMM _users_, and some of the others can be done by Matthew with minimal work I suspect.
<br />
<br />A central issue here is that FLMM actually fills 2 distinct roles. It was designed to allow players to manage mods; but it ends up also acting for many of us as a &quot;modder's manager&quot;! The two roles really are distinct because players have different needs from modders. 
<br />
<br />+ More documentation on &quot;good&quot; FLMM mod building style
<br />(user fix)
<br />Several people have posted excellent discussions of how to do things &quot;correctly&quot;. For example, using append operations instead of just copying raw INI files makes mods smaller, faster, and more cooperative. Using xmldata and stringdata tags have been minimally explored, and need more talk. People also need to understand the uses of _internally_ modular builds (using multiple XML files as Argh has demonstrated to break mods into easily debugged/revised &quot;objects&quot<img src=smilies/icon_smile_wink.gif width=15 height=15 border=0 align=middle> and when it is important to tell FLMM to ignore errors (I've seen massive mods break because someone had already commented out the Freelancer.ini movies).
<br />
<br />+ FLMM Script Debugger
<br />(user fix)
<br />Although this wouldn't instinctively _think_ like FLMM, a debugger that looks for obvious issues would be an excellent tool. It would essentially parse all the .xml files in a mod folder, looking for items such as mismatched/missing tags, and flagging the line where they happen. This may be &quot;my&quot; project later.
<br />
<br />+ Case-Insensitive Text Comparison
<br />(FLMM revision)
<br />FLMM uses strict casing when checking content - to it, [ship and [Ship are different. Probably FLMM does binary comparison of INI against the &lt;section&gt;...&lt;/section&gt; data. If searching could be forced to text comparison, Li01_01_Base (as in newcharacter.ini, mBases.ini, and news.ini) would appear to be the same as Li01_01_base (as in market_*.ini files).
<br />This is most directly an issue for modders entering data from memory, but it also can produce hiccups for otherwise well-built mods stacked on top of each other. Due to FLMM's critical role in mod application, the case-sensitivity also means that tools such as the FL SDK and Buck Danny's FlPatch cannot choose to make case consistent in the FL files at a later date.
<br />If this is done, it WILL almost certainly make FLMM slower - possibly not significantly so, though.
<br />
<br />+ WhatIf Mode
<br />(FLMM revision - might be easy)
<br />It would be VERY nice to see what FLMM would do with a mod without it actually DOING it. In other words, it would either do the mod and roll back immediately, or else not bother writing the files. The usability would come in it spewing out each operation: parses of an XML file, matches it finds, errors it encounters. This would help flush out problems due to people misunderstanding FLMM since they then have specific clues about why mod application fails.
<br />
<br />
<br />
<br />+ Documentation on &quot;Good&quot; section-building
<br />(modder fix)
<br />FLMM has only a limited concept of INI file &quot;sections&quot; - e.g., [Ship and [Loadout sections in files apparently are treated as long text chunks. There are good reasons for this approach - any other approach would take a lot more processing, be bug-vulnerable, and would have taken much longer to implement.
<br />Due to this, nicely built sections can make incremental modding easier, and bad ones can make it much harder. A couple of examples of &quot;bad practices&quot; that I've used myself are putting comments on the same line as the section header (breaks header matching since [Ship is not the same as [Ship;somecomment) and putting something other than the nickname as the first line of a section (makes unique identification via FLMM very difficult).
<br />
<br />+ LIMITED Support For &quot;Strict&quot; XML via optional CDATA tags
<br />(FLMM revision - minor)
<br />If FLMM would allow and ignore CDATA tags delimiting literal content, XML parsers could easily read the data sections. This would probably be simple to implement, even if it just comes down to preprocessing the FLMM files and stripping out all CDATA open/close tags without regard to counting/matching. Presumably if someone is using them, they should already know what they're doing.
<br />
<br />+ LIMITED Support For &quot;Strict&quot; XML via character entities
<br />(FLMM revision - could be difficult)
<br />This would be an alternative to CDATA usage, allowing use of character entities such as &amp;amp; for the &quot;&amp;&quot; sign - then quotes, '&lt;', &quot;&gt;', and other characters wouldn't cause XML parsers to puke. This might be very difficult to implement globally, but allowing it within xmldata or stringdata could be simple and also resolve some difficulties with creating strings.
<br />
<br />+ Fix GENERATESTRRES/GENERATEXMLSTRRES line truncation
<br />(FLMM revision - minor)
<br />Right now, the GENERATE functions rip out all data on a line after the &quot;=&quot; sign, making pure FLMM-based rumor-adding impossible (2 critical pieces of data on the line are stripped out). Fixing this so it only backtracks to an &quot;=&quot; or a &quot;,&quot; would probably be sufficient.
<br />
<br />+ Exclusions
<br />(FLMM fix - could be ugly)
<br />I would like to see FLMM support some specific method for excluding files. The simplest thing, assuming it builds a work queue from all XML files in the directory, might be to add a fileexclude tag, like this:
<br />&lt;fileexclude path=&quot;data/constants.backup&quot;/&gt;
<br />Making it do wildcards would rock.<img src=smilies/icon_smile.gif width=15 height=15 border=0 align=middle></div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p366914" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-1" href="javascript:void(0);">Louva-Deus</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Tue May 10, 2005 11:16 am <span class="post-author-inline" style="display: none;">by Louva-Deus</span></p>

			<h3><a href="#p366914" class="post-subject"></a></h3>

			

			<div class="content">One feature that should be considered a must is to prevent any operations (activate/deactivate) from happening if either the game (freelancer.exe) or the server (flserver.exe) are running. A lot of people currupt the game and mods by deactivating a mod before the game processes have completely shut down.
<br />
<br />A second feature that should be a must is that FLMM not try to backup any files that were already backed up (.flmmbak) by preceding package. Granted this feature could be used for cheating but I don't think it would make things any worse than they already are. It only affects the auto-backup function in FLMM to prevent game/mod curruption.
<br />
<br />Check out the latest beta's of the <a href='http://eoa.seriouszone.com/?page=flsdk' Target=_Blank>Freelancer S.D.K. 1.5</a> and <a href='http://eoa.seriouszone.com/?page=flexp' Target=_Blank>Freelancer Explorer v2.x</a>
<br />
<br />Edited by - Louva-Deus on 5/10/2005 12:20:03 PM</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p366943" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-2" href="javascript:void(0);">Chips</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Tue May 10, 2005 12:49 pm <span class="post-author-inline" style="display: none;">by Chips</span></p>

			<h3><a href="#p366943" class="post-subject"></a></h3>

			

			<div class="content">It already does throw an error if you try to activate or deactivate a mod whilst Freelancer.exe is running.
<br />
<br />The Server, however, does not. 
<br />
<br />I would suggest you guys email Matt if you wish to bring the items to his attention, because I don't think he checks here that regularly anymore...</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p366949" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-3" href="javascript:void(0);">Louva-Deus</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Tue May 10, 2005 1:13 pm <span class="post-author-inline" style="display: none;">by Louva-Deus</span></p>

			<h3><a href="#p366949" class="post-subject"></a></h3>

			

			<div class="content">I have sent him the link to this thread.
<br />
<br />Check out the latest beta's of the <a href='http://eoa.seriouszone.com/?page=flsdk' Target=_Blank>Freelancer S.D.K. 1.5</a> and <a href='http://eoa.seriouszone.com/?page=flexp' Target=_Blank>Freelancer Explorer v2.x</a></div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367043" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-4" href="javascript:void(0);">IGx89</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Wed May 11, 2005 7:52 am <span class="post-author-inline" style="display: none;">by IGx89</span></p>

			<h3><a href="#p367043" class="post-subject"></a></h3>

			

			<div class="content">(thanks for the e-mail Louva-Deus; Chips was right <img src=smilies/icon_smile_wink.gif width=15 height=15 border=0 align=middle> )
<br />
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>+ Case-Insensitive Text Comparison
<br />(FLMM revision)
<br />FLMM uses strict casing when checking content - to it, [ship and [Ship are different. Probably FLMM does binary comparison of INI against the &lt;section&gt;...&lt;/section&gt; data. If searching could be forced to text comparison, Li01_01_Base (as in newcharacter.ini, mBases.ini, and news.ini) would appear to be the same as Li01_01_base (as in market_*.ini files).
<br />This is most directly an issue for modders entering data from memory, but it also can produce hiccups for otherwise well-built mods stacked on top of each other. Due to FLMM's critical role in mod application, the case-sensitivity also means that tools such as the FL SDK and Buck Danny's FlPatch cannot choose to make case consistent in the FL files at a later date.
<br />If this is done, it WILL almost certainly make FLMM slower - possibly not significantly so, though.    <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />Looking through my code, it appears that FLMM ignores case on the first search line but doesn't ignore case when comparing the rest of the lines. I think I can safely chalk that up as a bug <img src=smilies/icon_smile.gif width=15 height=15 border=0 align=middle>.
<br />
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>+ WhatIf Mode
<br />(FLMM revision - might be easy)
<br />It would be VERY nice to see what FLMM would do with a mod without it actually DOING it. In other words, it would either do the mod and roll back immediately, or else not bother writing the files. The usability would come in it spewing out each operation: parses of an XML file, matches it finds, errors it encounters. This would help flush out problems due to people misunderstanding FLMM since they then have specific clues about why mod application fails.    <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />FLMM already does a complete test run without modifying any files, telling the user if it encounters any problems and putting the details of the problems in the log window. Or are you getting at something else?
<br />
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>+ Documentation on &quot;Good&quot; section-building
<br />(modder fix)
<br />FLMM has only a limited concept of INI file &quot;sections&quot; - e.g., [Ship and [Loadout sections in files apparently are treated as long text chunks. There are good reasons for this approach - any other approach would take a lot more processing, be bug-vulnerable, and would have taken much longer to implement.
<br />Due to this, nicely built sections can make incremental modding easier, and bad ones can make it much harder. A couple of examples of &quot;bad practices&quot; that I've used myself are putting comments on the same line as the section header (breaks header matching since [Ship is not the same as [Ship;somecomment) and putting something other than the nickname as the first line of a section (makes unique identification via FLMM very difficult).    <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />Stripping comments off of sections could be put on my todo list. It definitely would take a little more processing, but probably not enough to cause a significant slowdown.
<br />
<br />As for putting something other than nicknames as the first line of a section, I don't know if there's anything I can do to work around that.
<br />
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>+ LIMITED Support For &quot;Strict&quot; XML via optional CDATA tags
<br />(FLMM revision - minor)
<br />If FLMM would allow and ignore CDATA tags delimiting literal content, XML parsers could easily read the data sections. This would probably be simple to implement, even if it just comes down to preprocessing the FLMM files and stripping out all CDATA open/close tags without regard to counting/matching. Presumably if someone is using them, they should already know what they're doing.    <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />Adding CDATA parsing should be pretty easy; I'll add it to the todo list.
<br />
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>+ LIMITED Support For &quot;Strict&quot; XML via character entities
<br />(FLMM revision - could be difficult)
<br />This would be an alternative to CDATA usage, allowing use of character entities such as &amp;amp; for the &quot;&amp;&quot; sign - then quotes, '&lt;', &quot;&gt;', and other characters wouldn't cause XML parsers to puke. This might be very difficult to implement globally, but allowing it within xmldata or stringdata could be simple and also resolve some difficulties with creating strings.    <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />I *could* add that parsing into the parser, but it would definitely slow it down. Would it be acceptable to just implement CDATA parsing instead?
<br />
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>+ Fix GENERATESTRRES/GENERATEXMLSTRRES line truncation
<br />(FLMM revision - minor)
<br />Right now, the GENERATE functions rip out all data on a line after the &quot;=&quot; sign, making pure FLMM-based rumor-adding impossible (2 critical pieces of data on the line are stripped out). Fixing this so it only backtracks to an &quot;=&quot; or a &quot;,&quot; would probably be sufficient.    <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />Hmm, I remember something about that, but can't find the details at the moment. Could you give me an example of one of those lines that FLMM messes up?
<br />
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>+ Exclusions
<br />(FLMM fix - could be ugly)
<br />I would like to see FLMM support some specific method for excluding files. The simplest thing, assuming it builds a work queue from all XML files in the directory, might be to add a fileexclude tag, like this:
<br />&lt;fileexclude path=&quot;data/constants.backup&quot;/&gt;
<br />Making it do wildcards would rock.    <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />Do you mean adding a way to flag files in the mod's directory that FLMM shouldn't copy to the Freelancer directory when the mod is activated?
<br />
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>A second feature that should be a must is that FLMM not try to backup any files that were already backed up (.flmmbak) by preceding package. Granted this feature could be used for cheating but I don't think it would make things any worse than they already are. It only affects the auto-backup function in FLMM to prevent game/mod curruption.    <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />I just looked through the code, and it appears that FLMM already does that? I couldn't find any place where it overwrites a .flmmbak file.
<br />
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>The Server, however, does not.     <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />That'd be quite easy to detect; added to the todo list.
<br />
<br />
<br />Phew, think I got through everything; now I'll hit Reply and find out how many quote brackets I forgot to add... <img src=smilies/icon_smile_wink.gif width=15 height=15 border=0 align=middle>
<br />
<br />I know I talk about a todo list a lot, but never have a public listing; I'll try to compile a list of all the possible changes and post it in the forum as soon as I get the time.
<br />
<br />I'm sorry about my absense from the Freelancer scene the last year or so, but a job, college, new interesting programming projects, the Halo competitive scene, and getting a little tired of working on FLMM all combined to pull me away from any FLMM development. But now I'm done with college until the fall and don't start up work until the 23rd, so I might possibly have time to get a new version of FLMM out in the next couple weeks. I do have a couple other programming projects to polish up first, a Halo (2) tourny on Saturday, and a website that I'd really like to finish up (I'm having the most difficult time finding any CSS stylesheets (not layouts); I'd make my own, but I'm horrible at choosing colors :/ ), so unfortunately I can't promise anything <img src=smilies/icon_smile_sad.gif width=15 height=15 border=0 align=middle>.
<br />
<br />------------------------------------
<br /><a href='http://flmm.hopto.org' Target=_Blank>Freelancer Mod Manager</a>: newbies' dreams come true
<br />Belief in <a href='http://www.greatcom.org/resources/whoisjesusorig/' Target=_Blank>Jesus</a>: the only way to Heaven
<br />
<br />Edited by - IGx89 on 5/11/2005 8:54:44 AM</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367191" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-5" href="javascript:void(0);">WatercoolerWarrior</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Thu May 12, 2005 7:56 pm <span class="post-author-inline" style="display: none;">by WatercoolerWarrior</span></p>

			<h3><a href="#p367191" class="post-subject"></a></h3>

			

			<div class="content">+WhatIf Mode
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>FLMM already does a complete test run without modifying any files, telling the user if it encounters any problems and putting the details of the problems in the log window. Or are you getting at something else? <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />This was for a fully automated smoke test, which it looks like /activateandlaunchserver already handles. <img src=smilies/icon_smile.gif width=15 height=15 border=0 align=middle>
<br />
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>
<br />Stripping comments off of sections could be put on my todo list. It definitely would take a little more processing, but probably not enough to cause a significant slowdown.
<br />As for putting something other than nicknames as the first line of a section, I don't know if there's anything I can do to work around that. <hr size=1 noshade></BLOCKQUOTE></font>
<br />There is very little you can do realistically, which is why I think this is most important as a &quot;modder education&quot; item, getting them to understand that FLMM is really identifying a text sequence.
<br />
<br />LIMITED Support For &quot;Strict&quot; XML via character entities
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>I *could* add that parsing into the parser, but it would definitely slow it down. Would it be acceptable to just implement CDATA parsing instead? <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />Having the CDATA tags will allow all the tricks I want.  I'm not so much concerned about the slowdown from doing this as the odd cases it could introduce if we demanded really fancy parsing.
<br />
<br />+ Fix GENERATESTRRES/GENERATEXMLSTRRES line truncation
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>Hmm, I remember something about that, but can't find the details at the moment. Could you give me an example of one of those lines that FLMM messes up? <hr size=1 noshade></BLOCKQUOTE></font>
<br />Given this:
<br />&lt;source&gt;
<br />rumor = base_0_rank, mission_end, 1, 0 ;GENERATESTRRES(stringdataX)
<br />&lt;/source&gt;
<br />the actual line written to a file is
<br />rumor = 1234567
<br />stripping out the &quot;base_0_rank, mission_end, 1,&quot; bit.
<br />
<br />+ Exclusions
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>Do you mean adding a way to flag files in the mod's directory that FLMM shouldn't copy to the Freelancer directory when the mod is activated? <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />Scratch this. It was exactly what I meant, but it was intended as a hack for my working style when doing &quot;group modding&quot; that requires zipping/sharing XML files via email regularly. There are better ways to handle this which don't involve FLMM directly - e.g., I can script automatic deactivation, file copy to the FLMM folder, followed by automatic mod activation.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367317" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-6" href="javascript:void(0);">Overkill</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Fri May 13, 2005 8:03 pm <span class="post-author-inline" style="display: none;">by Overkill</span></p>

			<h3><a href="#p367317" class="post-subject"></a></h3>

			

			<div class="content"><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>A second feature that should be a must is that FLMM not try to backup any files that were already backed up (.flmmbak) by preceding package. Granted this feature could be used for cheating but I don't think it would make things any worse than they already are. It only affects the auto-backup function in FLMM to prevent game/mod curruption. <hr size=1 noshade></BLOCKQUOTE></font>
<br />I think I know what he's getting at here - I've actually had some problems with this.  I made a ship package with multiple scripts that each edit shiparch.ini.  The mod activates just fine, but it always causes an error turning it off which asks you to restore backups.  The log says:
<br />
<br />&lt;pre&gt;&lt;font size=1 face=Courier&gt;Warning: unable to restore 'c:\program files\microsoft games\freelancer\data/ships/shiparch.ini' because no backup exists! &lt;/font&gt;&lt;/pre&gt;
<br />
<br />This only happens when you modify the same ini multiple times.
<br />
<br />&lt;unrelated banter&gt;BTW, I love FLMM - you're the man IGx89!&lt;/unrelated banter&gt;
<br />
<br />I have become one with my computer. It is a feeling of ecstasy...the perfect blend of logic and emotion. I have reached...Nerdvana!</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367322" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-7" href="javascript:void(0);">Argh</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Fri May 13, 2005 8:51 pm <span class="post-author-inline" style="display: none;">by Argh</span></p>

			<h3><a href="#p367322" class="post-subject"></a></h3>

			

			<div class="content">Um, if we're throwing ideas into the wind... could I request something?
<br />
<br />I'd like FLMM to have an &quot;evaluate=yes&quot; tag for replace operations.  Here's what I mean:
<br />
<br />Say, for example... you'd like to change all of the guns with a muzzle_velocity between 400 and 700 to 750.  How hard would it be for FLMM to read everything that qualified and alter it?
<br />
<br />I had to do this with grep parsing, and it was a royal pain.  If such a feature was built right into FLMM, it'd really open up a lot of possibilities.
<br />
<br />In addition, if it could also evaluate strings with wildcards... FLMM would more-or-less totally replace INI editing, at least for me.
<br />
<br />Here's how I think that the syntax should look:
<br />
<br />&lt;data file=&quot;data\equipment\engine_equip.ini&quot; method=&quot;sectionreplace&quot; evaluate=&quot;true&quot; find=&quot;string&quot;&gt; 
<br />&lt;section&gt;
<br />[Engine
<br />&lt;/section&gt;
<br />&lt;dest&gt;
<br />flame_effect = gf_li_smallengine<b>* </b>
<br />&lt;/dest&gt;
<br />&lt;source&gt;
<br />flame_effect = gf_br_smallengine01_fire
<br />&lt;/source&gt;
<br />&lt;/data&gt;
<br />
<br />That's a crude example, but basically what the code above would do is replace all of the strings that started with flame_effect = gf_li_smallengine and ended with any number of characters with gf_br_smallengine01_fire.
<br />
<br />For numerical evaluation, mainly what we need is something that can strip the spaces and anything after a comment (to reduce errors) and then evaluate anything after the &quot;=&quot; as a number.  It needs only to evaluate whether something is &gt; &lt; = &gt;= &lt;= a given number, and it needs to &quot;understand&quot; floats.
<br />
<br />Sooo... here's a sample:
<br />
<br /> &lt;data file=&quot;data\equipment\engine_equip.ini&quot; method=&quot;sectionreplace&quot; evaluate=&quot;true&quot; find=&quot;expression&quot; &gt; 
<br />&lt;section&gt;
<br />[Engine
<br />&lt;/section&gt;
<br />&lt;dest&gt;
<br />max_force = &quot;&lt;48000&gt;10000&quot;
<br />&lt;/dest&gt;
<br />&lt;source&gt;
<br />max_force = 48000
<br />&lt;/source&gt;
<br />&lt;/data&gt;
<br />
<br />The script above would evaluate every number following the &quot;=&quot; for max_force, check to see if it was less than 48000 but greater than 10000, and then if it qualified, change it to 48000.
<br />
<br />Putting these two features into FLMM would make a lot of modding that's barely practical (I should know, I rebuilt FL's weapons tables from scratch, but it was painful) much, much, MUCH easier.  Just a thought <img src=smilies/icon_smile.gif width=15 height=15 border=0 align=middle></div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p368713" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-8" href="javascript:void(0);">WatercoolerWarrior</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Thu May 26, 2005 3:11 pm <span class="post-author-inline" style="display: none;">by WatercoolerWarrior</span></p>

			<h3><a href="#p368713" class="post-subject"></a></h3>

			

			<div class="content"><b>Easier resource handling (RDL and plain strings both) </b>
<br />
<br />I have another wish, focusing on this. Resources are very difficult to handle correctly. Probably the very best solution so far is the xmldata/stringdata tags, but those can be quirky and according to the docs, 2000 is the upper limit on them. I've just checked 2 mods I have handy - WTS-World 2.53 and the in-process Asgard 3 beta - and they have respectively 1528 and 1174 resource generation statements in them.
<br />
<br />Admittedly these are drastic cases. Also, since many of those are hardcoded resources, the distinct resources used for sellable items would generally be cut in half (ids data used in both an equipment item's technical definition and good definition, forexample).
<br />
<br />I can't thing of many <i>reasonable </i> things to do differently with this, but here's a couple that go above and beyond the call of duty which could be very handy.
<br />
<br />1. Simple auto-tagging of xmldata
<br />The vast majority of infocards are very simple - they SHOULD be very simple, for legibility. Generally they're technical documentation of an item. A nice feature would be having FLMM automatically insert tagging for untagged xmldata. The classical \n (which works fine with stringtable resources) could be parsed into paragraph separators. First paragraph would automatically be bolded, following paragraphs standard RDL markup. This would make professional infocards easy for beginners without preventing creativity; it would also significantly reduce scripting errors.
<br />
<br />2. Autonaming
<br />Given an item which clearly should have a resource but is missing it - say an ids_* line with nothing following the '=' - what about automatically doing lookup for stringdata and xmldata resources with the same base name and a &quot;generic&quot; identifier added? For example, let's say I have a new weapon fc_foo_gun01_mk01. FLMM sees this:
<br />&lt;pre&gt;&lt;font size=1 face=Courier&gt;nickname = fc_foo_gun01_mk01
<br />ids_name
<br />ids_info =
<br /> &lt;/font&gt;&lt;/pre&gt;
<br />Since there should be something there, but there isn't, FLMM would then look for a resource named name_fc_foo_gun01_mk01 to fill in ids_name and another one named info_fc_foo_gun01_mk01 to fill in the ids_info.
<br />
<br />The second suggestion is probably a bit rough to do. It looks dead simple in terms of the amount of processing power required, but I can see it adding a new level of &quot;look-here for this, there for that&quot; to FLMM itself. I would almost prefer at that point that Matthew start looking at having FLMM host the Script Control and tell us to do it ourselves. <img src=smilies/icon_smile.gif width=15 height=15 border=0 align=middle></div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p368736" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-9" href="javascript:void(0);">Overkill</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Thu May 26, 2005 6:31 pm <span class="post-author-inline" style="display: none;">by Overkill</span></p>

			<h3><a href="#p368736" class="post-subject"></a></h3>

			

			<div class="content">You know, the autotagging thing may be best done in some sort of generic xml generator;  That may be a bit out of the scope of FLMM.  If I'm understanding you correctly, a better way to do this may be to make a second program that takes an input like:
<br />
<br />J10P - 15P &quot;Dragon&quot; Kusari Heavy Fighter
<br />
<br />&quot;The serpents tooth,&quot; this ship is the razor sharp maw of Kusari military knowledge and technology. The Dragon is the coalescence of form and function, blending unbeatable offensive and defensive capabilities and significant cargo space. In the hands of an experienced pilot this ship is not so much a weapon as a force of nature.
<br />
<br />and turns it into the output:
<br />
<br />&lt;xml&gt;
<br />&lt;RDL&gt;
<br />&lt;PUSH/&gt;
<br />&lt;TRA data=&quot;1&quot; mask=&quot;1&quot; def=&quot;-2&quot;/&gt;
<br />&lt;JUST loc=&quot;center&quot;/&gt;
<br />&lt;TEXT&gt;
<br />J10P - 15P &quot;Dragon&quot; Kusari Heavy Fighter
<br />&lt;/TEXT&gt;
<br />&lt;PARA/&gt;
<br />&lt;TRA data=&quot;0&quot; mask=&quot;1&quot; def=&quot;-1&quot;/&gt;
<br />&lt;JUST loc=&quot;left&quot;/&gt;
<br />&lt;TEXT&gt;
<br />&lt;/TEXT&gt;
<br />&lt;PARA/&gt;
<br />&lt;TEXT&gt;
<br />&quot;The serpents tooth,&quot; this ship is the razor sharp maw of Kusari military knowledge and technology. The Dragon is the coalescence of form and function, blending unbeatable offensive and defensive capabilities and significant cargo space. In the hands of an experienced pilot this ship is not so much a weapon as a force of nature.
<br />&lt;/TEXT&gt;
<br />&lt;PARA/&gt;
<br />&lt;POP/&gt;
<br />&lt;/RDL&gt;
<br />&lt;/xml&gt;
<br />
<br />Such a program would be fairly easy to implement, and the output could just be copied into the mod of your choice.  If something like this would be particularly helpful, I could probably write it myself, so I'm just not sure if it would really be necessary to implement it in FLMM.  But, hey, that's just my opinion <img src=smilies/icon_smile.gif width=15 height=15 border=0 align=middle>
<br />
<br />I have become one with my computer. It is a feeling of ecstasy...the perfect blend of logic and emotion. I have reached...Nerdvana!</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p368787" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-10" href="javascript:void(0);">WatercoolerWarrior</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Fri May 27, 2005 8:29 am <span class="post-author-inline" style="display: none;">by WatercoolerWarrior</span></p>

			<h3><a href="#p368787" class="post-subject"></a></h3>

			

			<div class="content"><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>...You know, the autotagging thing may be best done in some sort of generic xml generator; That may be a bit out of the scope of FLMM. If I'm understanding you correctly, a better way to do this may be to make a second program that takes an input like:... <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />Er... right, right, and more right. How embarrassing, I always complain about software that throws in the kitchen sink and you caught me asking for it with gold-plated handles.
<br />
<br />This could probably be done pretty easily with a tool that takes 3 items as input: a nickname, a &quot;friendly name&quot;, and a description with embedded line feeds. It then outputs an automatically named stringdata and xmldata pair and the item nickname.  If the core is designed to do that, it can be easily surfaced as a GUI for interactive 1-by-1 use, or you can put in a pile of data at once.
<br />
<br />No changes are even needed in FLMM, and you don't need to touch your main script file since you can push the xmldata and stringdata into a separate file. The main file stays nice and neat, and editing the stuff the player sees is always distinct from touching the crunchy inside specs.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p387300" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-11" href="javascript:void(0);">Hahukum Konn</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Sat Oct 22, 2005 5:59 pm <span class="post-author-inline" style="display: none;">by Hahukum Konn</span></p>

			<h3><a href="#p387300" class="post-subject"></a></h3>

			

			<div class="content">I think what is meant by a test mode is that instead of FLMM running the mod install after testing it out first, halt after the test and report whether the mod install WOULD be successful, or what errors would be encountered.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>



<div class="topic-actions">
	<div class="buttons" id="viewtopic-buttons">
	
		<div class="reply-icon"><a href="" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			12 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="./viewforum.php_f=32" class="left-box left" accesskey="r">Return to Freelancer Mod Manager</a></p>

	<br /><br />
</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
</div>

	<div id="footer-clear">&nbsp;</div>
	<div class="copyright">
        <br />Hosted by <a href="https://the-starport.com">The Starport</a> &bull; Theme by <a href="https://www.stsoftware.biz/" ref="nofollow">ST Software</a>
	</div>


</div><!-- #global -->

</div>
</body>
</html>