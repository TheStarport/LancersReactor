<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>


<style type="text/css">
#global { width: 100%; }
</style>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />


<title>Lancers Reactor Forums &bull; View topic - A gun that fires from a torp hardpoint?</title>

<link href="./styles/ca_orbital/theme/stylesheet.css" rel="stylesheet" type="text/css" media="screen, projection" />
<link media="only screen and (max-device-width: 480px)" href="./styles/ca_orbital/theme/iphone.css" type="text/css" rel="stylesheet" />

</head>

<body id="phpbb" class="section- ltr">
<div id="main">

<p class="top"><a id="top" name="top" accesskey="t"></a></p>

<div id="global" style="margin: 0 auto;">

    <p class="skiplink"><a href="#start_here">Skip to content</a></p>

	<!-- header start -->
    <div id="topnav">
        <div class="left"></div>
        <div class="right"></div>
        <ul class="linklist topnav leftside">
            <li>
                <a href="https://the-starport.com" title="The Starport">The Starport</a>
            </li>
            <li>
                <span>&bull;</span>
                <a href="https://the-starport.net/discord" title="The Starport Discord">Discord</a>
            </li>
        </ul>
    </div>
    

	<div id="logo"><a href="./index.php.html"><img src="./styles/ca_orbital/imageset/tlr_logo.png" alt="" title=""><span>Lancers Reactor Forums</span></a></div>
	<!-- header end -->

    <div id="page-header-msg">
		<div class="block-header"><span></span><div></div></div>
       <div class="block-content"><div class="block-inner"><div class="block-inner2">
            	
		<table width="100%">
			<tbody><tr><td style="text-align:center;width:100%;">

            <h2 style="color:red;">Important Message</h2>
            <h3>You are browsing the archived Lancers Reactor forums. You cannot register or login.<br>
            The content may be outdated and links may not be functional.</h3><br>
            <h4>To get the latest in Freelancer news, mods, modding and downloads, go to<br>
            	<a href="https://the-starport.com">The-Starport</a></h4>
    	</td></tr> 
    </tbody></table>
    
    	</div></div></div>
    <div class="block-footer"><span></span><div></div></div>
	</div>
    <p></p>
	<div id="page-header">
		<div class="navbar navbar-top" id="navbar-top">
            <div class="block-header"><span></span><div></div></div>
            <div class="block-content"><div class="block-inner"><div class="block-inner2">
            <ul class="linklist navlinks">
                <li class="icon-home"><span class="home-extra"><a href="./index.php.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="./viewforum.php_f=75.html">Freelancer Editing</a> <strong>&#8249;</strong> </span><a href="./viewforum.php_f=18.html">Freelancer General Editing Forum</a></li>
            </ul>
            <div class="block-clear"></div>
            </div></div></div>
            <div class="block-footer"><span></span><div></div></div>
		</div>
	</div>
    <p></p>

	<a name="start_here"></a>

	<div id="page-body">
		<div id="content-start"></div>
<h2 class="leftside"><a href="./viewtopic.php_f=18_t=46378" id="topic-title">A gun that fires from a torp hardpoint?</a></h2>

<p class="rightside">
    
</p>
<div class="clear"></div>
<p class="forum-desc">The general place to discuss MOD''ing Freelancer! </p>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			5 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p35776" class="post">
		<div class="block-border block-block block-post block-post-first"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-0" href="javascript:void(0);">Cancerous Ordo</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Fri Aug 31, 2007 8:48 pm <span class="post-author-inline" style="display: none;">by Cancerous Ordo</span></p>

			<h3 class="first"><a href="#p35776" class="post-subject">A gun that fires from a torp hardpoint?</a></h3>

			

			<div class="content">I'm trying to make a big &quot;dumb fire&quot; cannon that does a lot of damage, but uses a lot of energy per shot and has a very low refire rate.  I'd like to have it only mountable on a torpedo hardpoint and to only fire when the key assigned to fire torpedoes is pressed, so it isn't always firing along with the regular guns.
<br />
<br />I've got the weapon set up and mountable on the torp hardpoint, but instead of firing when the torp key is pressed, it still fires with the right mouse button along with the normal guns.  Everything else works the way I'd like it to, so is there some magic setting I've missed somewhere that determines whether something fires using the right click, torpedo, CD, or missile keys?</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p427069" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-1" href="javascript:void(0);">Ogu</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Sat Sep 01, 2007 7:22 am <span class="post-author-inline" style="display: none;">by Ogu</span></p>

			<h3><a href="#p427069" class="post-subject"></a></h3>

			

			<div class="content">It depends on what type of weapon you've coded it as. If you coded it as a [MineDropper then the mine dropper key would fire it. If you coded it as a missile, then the missile key would fire it, and so on. 
<br />
<br />I usually code it as a torpedo. If you want it to act as a gun and not home in on ships or accelerate, you'll need to make change the [Motor so it doesn't provide any extra thrust:
<br />
<br />[Motor
<br />nickname = torpedo01_mark01_motor
<br />lifetime = 0 
<br />accel = 0
<br />delay = 0
<br />
<br />The explosion bit might be a bit tricky, but you should be able to change the effect to a regular gun hit effect (such as li_laser_01_impact). Of course, you can add your damage here if you want. Be sure to set the radius to 0 so you don't damage nearby ships. You should be able to set the damages here to 0 and use them under the [Munition as well, I don't have any code handy so I'm not 100% sure on that. 
<br />
<br />[Explosion
<br />nickname = torpedo01_mark01_explosion
<br />effect = li_laser_01_impact
<br />lifetime = 0.000000, 0.000000
<br />process = disappear
<br />strength = 0
<br />radius = 0 
<br />hull_damage = 0
<br />energy_damage = 0 
<br />impulse = 0
<br />
<br />Make it so it doesn't require ammo, since it should be a gun. I've given it some damage here, so it'll do that on impact. Change the sound to that of a gun and set the detonation distance as 1. Change the const_effect to that of a gun, change seeker to DUMB so it doesn't home in and time to lock to 0. I'm not sure about seeker range, since it shouldn't be needed it can probably be 0 - though leaving it at 700 or 100 or whatever shouldn't hurt. Seeker fov can be 0 (since it doesn't need to lock) and angular velocity can be 0 so it can't turn. The archetype and mat are probably fine - the const_effect should cover them up for the most part. Notice how I didn't say anything about lifetime - that'll be below.
<br />
<br />[Munition
<br />nickname = torpedo01_mark01_ammo
<br />explosion_arch = torpedo01_mark01_explosion
<br />loot_appearance = ammo_crate
<br />units_per_container = 1
<br />hp_type = hp_torpedo
<br />requires_ammo = false
<br />hull_damage = 1000 
<br />energy_damage = 0 
<br />hit_pts = 2
<br />one_shot_sound = fire_laser1
<br />detonation_dist = 1
<br />lifetime = 3
<br />Motor = torpedo01_mark01_motor
<br />force_gun_ori = false
<br />const_effect = li_laser_01_proj
<br />HP_trail_parent = HPExhaust
<br />seeker = DUMB
<br />time_to_lock = 0
<br />seeker_range = 1500 
<br />seeker_fov_deg = 0
<br />max_angular_velocity = 0
<br />DA_archetype = equipment\models\torpedoes\ge_torpedo.3db
<br />material_library = equipment\models\ge_equip.mat
<br />ids_name = 265163
<br />ids_info = 266163
<br />mass = 1
<br />volume = 0.000000
<br />
<br />You can change the archetype and mat to those of a gun. The refire, power usage and velocity can be edited to whatever you want, just like a gun. I'm giving this one a power usage of 50 and a speed of 700m/s. Lets go back up to the lifetime (above) and make it 1 - this will make the range of your gun 700m. If you wanted it to be 1400m, change it to 2, etc.
<br />
<br />[Gun
<br />nickname = torpedo01_mark01
<br />ids_name = 263163
<br />ids_info = 264163
<br />DA_archetype = equipment\models\weapons\li_laser_beam.cmp
<br />material_library = equipment\models\li_equip.mat
<br />HP_child = HPConnect
<br />hit_pts = 1405
<br />explosion_resistance = 1.000000
<br />debris_type = debris_normal
<br />parent_impulse = 20
<br />child_impulse = 80
<br />volume = 0.000000
<br />mass = 10
<br />hp_gun_type = hp_torpedo_special_1
<br />damage_per_fire = 0
<br />power_usage = 50
<br />refire_delay = 2 
<br />muzzle_velocity = 700
<br />toughness = 12.100000
<br />projectile_archetype = torpedo01_mark01_ammo 
<br />dry_fire_sound = fire_dry
<br />separation_explosion = sever_debris
<br />auto_turret = false
<br />turn_rate = 90
<br />lootable = true
<br />LODranges = 0, 20, 60, 100
<br />
<br />And that should be it. You might have to fiddle with some things, but this should work for the most part.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p427079" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-2" href="javascript:void(0);">Cancerous Ordo</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Sat Sep 01, 2007 1:05 pm <span class="post-author-inline" style="display: none;">by Cancerous Ordo</span></p>

			<h3><a href="#p427079" class="post-subject"></a></h3>

			

			<div class="content">Thanks, that's what I thought.  I'd originally just had the same settings as any other gun and just changed the HP types to torpedo.  I did a bit more work, but wasn't quite there yet.
<br />
<br />I've double checked what I've done against what you have here and I was on the right track, but I still have one little issue - the visible fire effect.  When the const_effect in Munition is set to li_torpedo01_drive, it looks like a torpedo.  When I change it to a beam effect, like li_laser_01_proj, the shot becomes invisible (well, I can still see the torpedo cmp flying out of the gun like a fat bullet).  I've tried a variety of things, but it seems that the only way I can get a visible effect is to set the const_effect to a type of torpedo or missile, both of which are way too large.  Any ideas?
<br />
<br />Edited by - Cancerous Ordo on 9/1/2007 2:05:36 PM</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p427112" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-3" href="javascript:void(0);">Ogu</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Sun Sep 02, 2007 9:13 am <span class="post-author-inline" style="display: none;">by Ogu</span></p>

			<h3><a href="#p427112" class="post-subject"></a></h3>

			

			<div class="content">You could try removing the model of the torp from the [Munition section:
<br />DA_archetype = equipment\models\torpedoes\ge_torpedo.3db
<br />material_library = equipment\models\ge_equip.mat
<br />
<br />Also, get rid of this:
<br />HP_trail_parent = HPExhaust
<br />You probably don't need any trails behind the munition.
<br />
<br />Let me know how you make out.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p427131" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-4" href="javascript:void(0);">Cancerous Ordo</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Mon Sep 03, 2007 2:56 am <span class="post-author-inline" style="display: none;">by Cancerous Ordo</span></p>

			<h3><a href="#p427131" class="post-subject"></a></h3>

			

			<div class="content">It turns out that the visibility problem was in data\fx\effects.ini.  Despite changing the effect type to EFT_WEAPON_PROJ, it required a vis_effect entry to be visible - a vis_beam entry, regardless of type, wouldn't work.  I originally just wanted a thin beam spear that looked like tracer fire.  I ended up going with vis_effect = pi_pulse_01_proj and vis_generic = min_laser_01_proj.  It looks a lot like a photon torpedo from Star Trek.  Not the effect I was after, but it looks really cool, the weapon works, and I'm happy.  Thanks for all the help!</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>



<div class="topic-actions">
	<div class="buttons" id="viewtopic-buttons">
	
		<div class="reply-icon"><a href="" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			5 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="./viewforum.php_f=18" class="left-box left" accesskey="r">Return to Freelancer General Editing Forum</a></p>

	<br /><br />
</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
</div>

	<div id="footer-clear">&nbsp;</div>
	<div class="copyright">
        <br />Hosted by <a href="https://the-starport.com">The Starport</a> &bull; Theme by <a href="https://www.stsoftware.biz/" ref="nofollow">ST Software</a>
	</div>


</div><!-- #global -->

</div>
</body>
</html>