<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>


<style type="text/css">
#global { width: 100%; }
</style>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />


<title>Lancers Reactor Forums &bull; View topic - Need help with VMeshWire/VMeshData segment or cmp/3db files</title>

<link href="./styles/ca_orbital/theme/stylesheet.css" rel="stylesheet" type="text/css" media="screen, projection" />
<link media="only screen and (max-device-width: 480px)" href="./styles/ca_orbital/theme/iphone.css" type="text/css" rel="stylesheet" />

</head>

<body id="phpbb" class="section- ltr">
<div id="main">

<p class="top"><a id="top" name="top" accesskey="t"></a></p>

<div id="global" style="margin: 0 auto;">

    <p class="skiplink"><a href="#start_here">Skip to content</a></p>

	<!-- header start -->
    <div id="topnav">
        <div class="left"></div>
        <div class="right"></div>
        <ul class="linklist topnav leftside">
            <li>
                <a href="https://the-starport.com" title="The Starport">The Starport</a>
            </li>
            <li>
                <span>&bull;</span>
                <a href="https://the-starport.net/discord" title="The Starport Discord">Discord</a>
            </li>
        </ul>
    </div>
    

	<div id="logo"><a href="./index.php.html"><img src="./styles/ca_orbital/imageset/tlr_logo.png" alt="" title=""><span>Lancers Reactor Forums</span></a></div>
	<!-- header end -->

    <div id="page-header-msg">
		<div class="block-header"><span></span><div></div></div>
       <div class="block-content"><div class="block-inner"><div class="block-inner2">
            	
		<table width="100%">
			<tbody><tr><td style="text-align:center;width:100%;">

            <h2 style="color:red;">Important Message</h2>
            <h3>You are browsing the archived Lancers Reactor forums. You cannot register or login.<br>
            The content may be outdated and links may not be functional.</h3><br>
            <h4>To get the latest in Freelancer news, mods, modding and downloads, go to<br>
            	<a href="https://the-starport.com">The-Starport</a></h4>
    	</td></tr> 
    </tbody></table>
    
    	</div></div></div>
    <div class="block-footer"><span></span><div></div></div>
	</div>
    <p></p>
	<div id="page-header">
		<div class="navbar navbar-top" id="navbar-top">
            <div class="block-header"><span></span><div></div></div>
            <div class="block-content"><div class="block-inner"><div class="block-inner2">
            <ul class="linklist navlinks">
                <li class="icon-home"><span class="home-extra"><a href="./index.php.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="./viewforum.php_f=75.html">Freelancer Editing</a> <strong>&#8249;</strong> </span><a href="./viewforum.php_f=44.html">Freelancer 3D Modeling and Texturing Forum</a></li>
            </ul>
            <div class="block-clear"></div>
            </div></div></div>
            <div class="block-footer"><span></span><div></div></div>
		</div>
	</div>
    <p></p>

	<a name="start_here"></a>

	<div id="page-body">
		<div id="content-start"></div>
<h2 class="leftside"><a href="./viewtopic.php_f=44_t=31185" id="topic-title">Need help with VMeshWire/VMeshData segment or cmp/3db files</a></h2>

<p class="rightside">
    
</p>
<div class="clear"></div>
<p class="forum-desc">Here you can discuss building custom ships, texturing and 3D modeling in Freelancer</p>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			8 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p23079" class="post">
		<div class="block-border block-block block-post block-post-first"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-0" href="javascript:void(0);">Anton</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Thu May 06, 2004 12:41 pm <span class="post-author-inline" style="display: none;">by Anton</span></p>

			<h3 class="first"><a href="#p23079" class="post-subject">Need help with VMeshWire/VMeshData segment or cmp/3db files</a></h3>

			

			<div class="content">Help! As far as I've got (not far <img src=smilies/icon_smile_sad.gif width=15 height=15 border=0 align=middle> ) is
<br />
<br />DWORD 00000010         // same for every wireframe
<br />DWORD xxxxxxxx         // crc of lod name under VMeshLibrary
<br />WORD...                      // i think what follows is a list of vertex references
<br />                                       maybe used for 'lineto' style vector drawing for the
<br />                                       scanners wire frame view
<br />
<br />*Edit solved the 2nd DWORD - dumb to have missed it in first place lol
<br />
<br />+++ out of cheese error - redo from start +++
<br />
<br />&quot;Psycho-ceramics. We are the cracked pots of mankind.
<br />Would you like me to decipher a Rorschach for you?&quot;
<br />- Dean Harding, 'One Flew Over The Cuckoos Nest' by
<br />Ken Kesey
<br />
<br />Edited by - Anton on 5/6/2004 2:37:23 PM</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p281666" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-1" href="javascript:void(0);">LordFjord</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Fri May 07, 2004 1:23 am <span class="post-author-inline" style="display: none;">by LordFjord</span></p>

			<h3><a href="#p281666" class="post-subject"></a></h3>

			

			<div class="content"><a href='http://www.klngarthur.com/forum/viewtopic.php?t=576' Target=_Blank>this</a>
<br />
<br />could be helpful for u. i have no clue about that kind of stuff but the old excecia admin: Reven (he wrote the cmp importer) knew quite a lot about it.
<br />
<br />hope it helped,
<br />Fjord
<br />
<br />---------------------------------
<br /><a href='http://www.klngarthur.com/forum' Target=_Blank>Excelcia</a> Mod Leading Developer</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p283313" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-2" href="javascript:void(0);">Anton</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Mon May 10, 2004 12:37 pm <span class="post-author-inline" style="display: none;">by Anton</span></p>

			<h3><a href="#p283313" class="post-subject"></a></h3>

			

			<div class="content">Ta Fjord, I've had your forums on my favorite's menu for a while now <img src=smilies/icon_smile.gif width=15 height=15 border=0 align=middle> very useful stuff. I've had some contact with Colin Sandby (CMP exporter v0.21 author) which i will post below.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p283314" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-3" href="javascript:void(0);">Anton</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Mon May 10, 2004 12:38 pm <span class="post-author-inline" style="display: none;">by Anton</span></p>

			<h3><a href="#p283314" class="post-subject"></a></h3>

			

			<div class="content">Tony,
<br />
<br />I have done some work on the VWireData and have a few ideas on how it can be
<br />worked out. One possibility is using adjacency info and normals to work out the lines
<br />which make up the outer boundaries, but still got some work to do.
<br />
<br />Testing/debugging new exporters &amp; importers at the moment, but I will keep looking for
<br />info on how to create the perimeter wire/line list that is in the VWireData.
<br />
<br />The info I have is as follows (bh_elite icon VWireData)
<br />
<br />---- HEADER ----
<br />
<br />Structure Size       = 16.
<br />VMeshLibID           = 0xFEAC4C3A.
<br />Unknown              = 0x0000. - might be an offset into the vertex buffer
<br />Vertex Quantity       = 4.
<br />Ref Vertex Quantity  = 8.
<br />Unknown2             = 4.
<br />---- Line Vertex List -----
<br />Line 0 = v0 to v1.
<br />Line 1 = v2 to v3.
<br />Line 2 = v1 to v3.
<br />Line 3 = v2 to v0.
<br />
<br />The ship/weapon model parts have the same 16 byte header with different values
<br />and longer line lists.
<br />
<br />I'm still learning C++ myself, so it may take a while.
<br />
<br />Colin</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p283315" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-4" href="javascript:void(0);">Anton</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Mon May 10, 2004 12:39 pm <span class="post-author-inline" style="display: none;">by Anton</span></p>

			<h3><a href="#p283315" class="post-subject"></a></h3>

			

			<div class="content">Tony,
<br />
<br />       Go ahead and use the mail in the help thread.
<br />
<br />The structure I used for the header is as follows
<br />
<br />typedef struct _VWireData
<br />{
<br />int vwd_HdrSize; // Points to vertex line list 
<br />long vwd_VMeshLibID;
<br />short vwd_Unknown;
<br />short vwd_VertexQty;
<br />short vwd_RefVertexQty;
<br />short vwd_Unknown2;
<br />} VWireData;
<br />// line vertex pairs follow. Quantity = D3DLINE[vwd_RefVertexQty / 2
<br />
<br />I don't know if this is correct, but it seems to fit the data.
<br />
<br />The print out I have for the Anubis port wing looks like this
<br />
<br />---- HEADER ----
<br />
<br />Structure Size       = 16.
<br />VMeshLibID           = 0xEFADA67C. - CRC of the Lod2 mesh
<br />Unknown              = 0x0227. 
<br />Vertex Quantity       = 12.
<br />Ref Vertex Quantity  = 46.
<br />Unknown2             = 40.
<br />---- Line Vertex List -----
<br />Line 0 = v3 to v6.
<br />Line 1 = v6 to v12.
<br />Line 2 = v0 to v12.
<br />Line 3 = v0 to v3.
<br />Line 4 = v12 to v26.
<br />Line 5 = v0 to v1.
<br />Line 6 = v2 to v3.
<br />Line 7 = v9 to v19.
<br />Line 8 = v6 to v9.
<br />Line 9 = v1 to v22.
<br />Line 10 = v19 to v26.
<br />Line 11 = v1 to v26.
<br />Line 12 = v19 to v22.
<br />Line 13 = v2 to v9.
<br />Line 14 = v36 to v39.
<br />Line 15 = v19 to v36.
<br />Line 16 = v26 to v39.
<br />Line 17 = v1 to v39.
<br />Line 18 = v1 to v22.
<br />Line 19 = v19 to v26.
<br />Line 20 = v22 to v36.
<br />Line 21 = v1 to v26.
<br />Line 22 = v19 to v22.
<br />
<br />The line list has a lot of missing vertices, but that could be because they are part of 1
<br />large flat surface made up of 3 or more triangles. The vertices that don't form part of a
<br />corner aren't included. The mesh viewer docs supplied with the DirectX 9 SDK
<br />call them creases.
<br />
<br />One way to check this will be to plot the vertices of a small group of meshes in AutoCAD
<br />and join up the relevant ones that are in the list. If I get a chance I'll have a go.
<br />
<br />Regards
<br />
<br />Colin</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p283472" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-5" href="javascript:void(0);">firebase</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Mon May 10, 2004 9:30 pm <span class="post-author-inline" style="display: none;">by firebase</span></p>

			<h3><a href="#p283472" class="post-subject"></a></h3>

			

			<div class="content">hope that workx, and it may lead to a perfect exporter that includes working multiple groups...
<br />
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade><a href='http://www.lancersreactor.com' Target=_Blank><img src='http://www.sharemation.com/firebase/Freelancer/FBTSymbol64x64.jpg'>  a  message from firebase...</a> <hr size=1 noshade></BLOCKQUOTE></font></div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p283507" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-6" href="javascript:void(0);">Anton</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Tue May 11, 2004 1:02 am <span class="post-author-inline" style="display: none;">by Anton</span></p>

			<h3><a href="#p283507" class="post-subject"></a></h3>

			

			<div class="content">I'm not a modelling person but the current version seems to support them ok (i've never tried this however). What I have noticed however while tinkering with other folks work is multiple meshes being used for single 'objects'. For example, the Jedi Starfighter has 19 meshgroups - 18 making up the hull and 1 for the glass. Obviously this is not an intrinsic problem as the ship looks very cool but (that nasty word again) i'm wondering if it would help if objects like hull, wings, engine blocks etc were 'regrouped' in milkshape into definite sections like they are (or seem to be) in original ships.
<br />
<br />*disclaimer - this is a TIP (thought in progress) <img src='./images/smilies/icon_biggrin.gif' width=15 height=15 border=0 align=middle>  I may be talking out of my botty</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p289284" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-7" href="javascript:void(0);">Anton</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Thu May 27, 2004 6:32 am <span class="post-author-inline" style="display: none;">by Anton</span></p>

			<h3><a href="#p289284" class="post-subject"></a></h3>

			

			<div class="content">Ok... research has been done and it appears the vwire data can be worked out (thanks to Colin Sandby's help and his data structures above) on <i>some </i> custom ships if the vertices/edges the directx sdk calls 'creases' can be calculated. So far I've drawn a blank with this... Any one know how this is done?</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>



<div class="topic-actions">
	<div class="buttons" id="viewtopic-buttons">
	
		<div class="reply-icon"><a href="" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			8 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="./viewforum.php_f=44" class="left-box left" accesskey="r">Return to Freelancer 3D Modeling and Texturing Forum</a></p>

	<br /><br />
</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
</div>

	<div id="footer-clear">&nbsp;</div>
	<div class="copyright">
        <br />Hosted by <a href="https://the-starport.com">The Starport</a> &bull; Theme by <a href="https://www.stsoftware.biz/" ref="nofollow">ST Software</a>
	</div>


</div><!-- #global -->

</div>
</body>
</html>