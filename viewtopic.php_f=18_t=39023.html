<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>


<style type="text/css">
#global { width: 100%; }
</style>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />


<title>Lancers Reactor Forums &bull; View topic - A Different approach to adding mods?</title>

<link href="./styles/ca_orbital/theme/stylesheet.css" rel="stylesheet" type="text/css" media="screen, projection" />
<link media="only screen and (max-device-width: 480px)" href="./styles/ca_orbital/theme/iphone.css" type="text/css" rel="stylesheet" />

</head>

<body id="phpbb" class="section- ltr">
<div id="main">

<p class="top"><a id="top" name="top" accesskey="t"></a></p>

<div id="global" style="margin: 0 auto;">

    <p class="skiplink"><a href="#start_here">Skip to content</a></p>

	<!-- header start -->
    <div id="topnav">
        <div class="left"></div>
        <div class="right"></div>
        <ul class="linklist topnav leftside">
            <li>
                <a href="https://the-starport.com" title="The Starport">The Starport</a>
            </li>
            <li>
                <span>&bull;</span>
                <a href="https://the-starport.net/discord" title="The Starport Discord">Discord</a>
            </li>
        </ul>
    </div>
    

	<div id="logo"><a href="./index.php.html"><img src="./styles/ca_orbital/imageset/tlr_logo.png" alt="" title=""><span>Lancers Reactor Forums</span></a></div>
	<!-- header end -->

    <div id="page-header-msg">
		<div class="block-header"><span></span><div></div></div>
       <div class="block-content"><div class="block-inner"><div class="block-inner2">
            	
		<table width="100%">
			<tbody><tr><td style="text-align:center;width:100%;">

            <h2 style="color:red;">Important Message</h2>
            <h3>You are browsing the archived Lancers Reactor forums. You cannot register or login.<br>
            The content may be outdated and links may not be functional.</h3><br>
            <h4>To get the latest in Freelancer news, mods, modding and downloads, go to<br>
            	<a href="https://the-starport.com">The-Starport</a></h4>
    	</td></tr> 
    </tbody></table>
    
    	</div></div></div>
    <div class="block-footer"><span></span><div></div></div>
	</div>
    <p></p>
	<div id="page-header">
		<div class="navbar navbar-top" id="navbar-top">
            <div class="block-header"><span></span><div></div></div>
            <div class="block-content"><div class="block-inner"><div class="block-inner2">
            <ul class="linklist navlinks">
                <li class="icon-home"><span class="home-extra"><a href="./index.php.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="./viewforum.php_f=75.html">Freelancer Editing</a> <strong>&#8249;</strong> </span><a href="./viewforum.php_f=18.html">Freelancer General Editing Forum</a></li>
            </ul>
            <div class="block-clear"></div>
            </div></div></div>
            <div class="block-footer"><span></span><div></div></div>
		</div>
	</div>
    <p></p>

	<a name="start_here"></a>

	<div id="page-body">
		<div id="content-start"></div>
<h2 class="leftside"><a href="./viewtopic.php_f=18_t=39023" id="topic-title">A Different approach to adding mods?</a></h2>

<p class="rightside">
    
</p>
<div class="clear"></div>
<p class="forum-desc">The general place to discuss MOD''ing Freelancer! </p>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			24 posts
			 &bull; <a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>1</strong> of <strong>2</strong></a> &bull; <span><strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php_f=18_t=39023_start=15.html">2</a></span>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p29447" class="post">
		<div class="block-border block-block block-post block-post-first"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-0" href="javascript:void(0);">TheJkWhoSaysNi</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Mon May 16, 2005 9:53 am <span class="post-author-inline" style="display: none;">by TheJkWhoSaysNi</span></p>

			<h3 class="first"><a href="#p29447" class="post-subject">A Different approach to adding mods?</a></h3>

			

			<div class="content">Sure FLMM is nice. But do we really need to edit the ini files themselves?
<br />
<br />I've been playing around with adding custom ini files and defining them in freelancer.ini 
<br />
<br />I added a file called extra_market.ini and defined it in freelancer.ini, i changed what was at manhattan using the new ini acting like market_misc.ini
<br />
<br />Whatever was in my new ini was the visible market info. Defining the same base in both market_misc and extra_market diddnt cause a problem. It took the data from the ini file which was defined last in freelancer.ini
<br />
<br />I'm going to play around adding mods in this way.
<br />
<br />Surely it would be better to be able to add mods simply by adding new ini files rather than editing the existing ones. 
<br />
<br />I'm assuming someone must have tried this before. If so, why arent mods distributed in this way?</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367732" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-1" href="javascript:void(0);">Jackel</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Mon May 16, 2005 10:47 am <span class="post-author-inline" style="display: none;">by Jackel</span></p>

			<h3><a href="#p367732" class="post-subject"></a></h3>

			

			<div class="content">The only problem with this is that some mods requre that we edit the origional INI files.   Even the cruse mod, increasing it's speed, requires an edit to the origional INI files.  I have no doubt you can add new market places, etc., by adding new INI files but when it comes down to it, even those will have to be referenced in the origional INI files.  So why not just modify them to begin with?
<br />
<br />Anyway, you might have come up with something different than what I'm thinking.  In the long run, it might make it possible to have two mods active at the same time when the would have conflicted before.  But to a modder that really isn't a concern as we would rather our mods be run the way they were designed to be, by themselves.  Unless our mods are designed to be active with other mods, refering to the speed hacks again.  But whatever, if you think it's a better way then by all means try it out and see what happens.  You may be on to something.   I have my doubts though.
<br />
<br />~Jay~
<br />
<br />I've just had the most disturbing encounter with a mad woman on the Holodeck.  - Holographic Doc</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367762" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-2" href="javascript:void(0);">Accushot</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Mon May 16, 2005 12:47 pm <span class="post-author-inline" style="display: none;">by Accushot</span></p>

			<h3><a href="#p367762" class="post-subject"></a></h3>

			

			<div class="content">The problem with that is that not all the files are referenced in freelancer.ini.  The location of files such as the NPC ship files are hardcoded in the DLL's - content.dll in fact.  This means you can only ever have one npcships.ini unless you want to try editing the executable code.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367776" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-3" href="javascript:void(0);">TheJkWhoSaysNi</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Mon May 16, 2005 3:37 pm <span class="post-author-inline" style="display: none;">by TheJkWhoSaysNi</span></p>

			<h3><a href="#p367776" class="post-subject"></a></h3>

			

			<div class="content">That's true. But for adding ships and equipment, surely this way makes more sense? You could easily have a ship pack which involves just copying and pasting files and adding a couple of lines to freelancer.ini
<br />
<br />Maybe it's because i'm used to OO programming but it makes more sense to me not to edit the original files unless you have to.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367789" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-4" href="javascript:void(0);">WatercoolerWarrior</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Mon May 16, 2005 4:58 pm <span class="post-author-inline" style="display: none;">by WatercoolerWarrior</span></p>

			<h3><a href="#p367789" class="post-subject"></a></h3>

			

			<div class="content">I've been working with the &quot;new file&quot; concept for a while too, and it DOES offer possibilities for clean extension that people simply haven't exploited enough; however, it also has limits. Some paths are still apparently hardcoded in the binaries.
<br />
<br />The real reason why everyone uses FLMM is that it's basically been the best all-around tool for this job that allows some degree of interaction between mods. It's still bloody ugly to work with for some problems because it is does &quot;simple&quot; exploiting of Freelancer's text-file-based data sources. It has now become the de facto standard because it generally &quot;just works&quot;.
<br />
<br />There definitely are some better ways to do this. You're exploring one that really could USE exploration. Another one is Bas Westerbaan's Intrepid.Corelib library that parses &quot;ini&quot; files and returns an abstract structure which can be updated on the fly.
<br />
<br />The ultimate answer would be a project to actually treat the INI files as a database with real records and links. Datastorm does this in a weak way (the &quot;datastorm.fl&quot; file it creates is really just a simple Access database - unfortunately with no heavy link-creation done...). A 'real' tool could produce a reference Freelancer database, then apply mods as sets of database updates - with the ability to roll back directly from the transactions list. Of course it would still need to generate the ini files from itself when mod sets are applied, but it would bring us very close to a situation where mods could really be thought of in terms of objects - systems, bases, equipment, ships - without having to worry about careful insertion of all the crossreferences everywhere.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367798" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-5" href="javascript:void(0);">TheJkWhoSaysNi</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Mon May 16, 2005 5:34 pm <span class="post-author-inline" style="display: none;">by TheJkWhoSaysNi</span></p>

			<h3><a href="#p367798" class="post-subject"></a></h3>

			

			<div class="content">WatercoolerWarrior, that is a very nice idea. Of course it's a lot of work too. 
<br />
<br />The main advantage i can see to adding new ini files is that you could chain up mods.
<br />
<br />Imagine 2 ship packs. They both need to edit shiparch.ini, market_ships.ini they could each have their own ini files. The only file they would both need to change is freelancer.ini even if the ships are sold at the same base the marketgood sections get added from each ini file referenced.
<br />
<br />This would make adding and removing equipment mods as easy as commenting out lines in freelancer.ini but as you point out some things are unfortunatly hardcoded.
<br />
<br />By my reckoning (although untested) you could add the following things without editing any file other than freelancer.ini
<br />
<br />-Ships
<br />-Weapons
<br />-Commodites 
<br />-Universe
<br />
<br />I'm going to see if i can change constants.ini values with the addition of a file too.
<br /> 
<br />edit: Success. By adding another constants entry in freelancer.ini i changed the cruising speed by another file.
<br />
<br />Edited by - TheJkWhoSaysNi on 5/16/2005 6:39:02 PM</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367808" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-6" href="javascript:void(0);">TheJkWhoSaysNi</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Tue May 17, 2005 6:06 am <span class="post-author-inline" style="display: none;">by TheJkWhoSaysNi</span></p>

			<h3><a href="#p367808" class="post-subject"></a></h3>

			

			<div class="content">I've been playing around some more and the files dont even have to be in the correct folders.
<br />
<br />I have converted 2 mods to work in this way. Flyable osiris (buyable at manhattan) and the cruise speed 1200 mod.
<br />
<br />My directory structure is this:
<br />
<br />DATA\MODS\osiris\ships\shiparch.ini
<br />DATA\MODS\osiris\equipment\market_ships.ini
<br />...etc...
<br />DATA\MODS\cruise1200\constants.ini
<br />
<br />All these files contain are the additions to the current files. Not new copies of all the ini files, just the mods. The directory structure doesnt actually matter. Infact all the market stuff can go in one file, all the equipment in another. I kept it like this for the sake of continuity.
<br />
<br />My freelancer.ini is set up like this:
<br />
<br />in the [data section:
<br />&lt;pre&gt;&lt;font size=1 face=Courier&gt;
<br />;##############################################################################################
<br />;Mods
<br />
<br />;Osiris Mod
<br />equipment = mods\osiris\equipment\st_equip.ini
<br />equipment = mods\osiris\equipment\weapon_equip.ini
<br />ships = mods\osiris\ships\shiparch.ini
<br />goods = mods\osiris\equipment\goods.ini ;all the goods could go in the same file
<br />goods = mods\osiris\equipment\st_good.ini
<br />goods = mods\osiris\equipment\weapon_good.ini
<br />markets = mods\osiris\equipment\market_misc.ini
<br />markets = mods\osiris\equipment\market_ships.ini
<br />
<br />
<br />;fast cruise speed
<br />constants = mods\cruise1200\constants.ini
<br />
<br />;##############################################################################################
<br />
<br /> &lt;/font&gt;&lt;/pre&gt;
<br />
<br />
<br />Is this method not a hell of a lot neater than modifying the original files every time?
<br />
<br />A lot of mods could be done like this and they would all work together.
<br />
<br />These are the things that cant be done in this way:
<br />-Info cards
<br />-HUD
<br />-Random missions
<br />
<br />
<br />Theres probably a lot more, but dont you think this method is a lot better for mods which add to the game?</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367875" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-7" href="javascript:void(0);">Argh</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Tue May 17, 2005 5:57 pm <span class="post-author-inline" style="display: none;">by Argh</span></p>

			<h3><a href="#p367875" class="post-subject"></a></h3>

			

			<div class="content">Um... at the risk of sounding pretentious...
<br />
<br />While this idea has some merit, it's not a panacea, and I'm not sure it gives us any advantages over what we can do with XML/FLMM.  
<br />
<br />Take, for example, your adding ships issue.  If you make mods with properly modular XML/FLMM scripts, you could add ship mod on top of ship mod, without any problems.  This is because things like ship mods are always using append methods (at least they should be, except for one crucial area- market_ships.ini).  So that, at least to me, is a non-starter.
<br />
<br />In addition, each mod would have to have a custom version of freelancer.ini in order to refer to the modules.  
<br />
<br />This would also tend to make such mods difficult to integrate with one another in practice.  In theory, we'd just append new data to freelancer.ini for each addon mod with XML scripts... but how is that any different from having multiple pure XML mods add their code to FL's INIs sequentially?  Ok, so now it's just one INI, not multiple- it's safer.  But it's also pretty limited, since we cannot do a lot've things with it.  Like, for example, create Infocards and Strings with sequentially-executed XML scripts.
<br />
<br />I've been working on techniques to make mods fully-modular with XML/FLMM because it works, it's simple, and it greatly reduces the need to use outside resources, such as hand-hacking DLLs (yuck!).  Anything that trends towards more specialization makes me skeptical.
<br />
<br />Last but not least... there's the efficiency issue.  I'm no computer-science genius by any means, but I suspect that it's less efficient for the FL game engine to refer to the various memory locations that each INI's contents are assigned, for searching out the variable values.  IOW, this idea might work great for one ship... but what about one hundred?  That's a lot of files!
<br />
<br />At any rate... I'm not hating this idea... don't get me wrong here... I just think that there are some potential issues with it, and if we're going to explore it, then we need to keep that in mind.  If you want to understand why I'm such a big fan of using XML/FLMM, check out my mod's current version, <a href='http://www.lancersreactor.com/t/Download/Download.asp?ID=1753' Target=_Blank>which can be found here.</a>
<br />
<br />Edited by - Argh on 5/17/2005 6:58:54 PM</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367901" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-8" href="javascript:void(0);">Strail</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Wed May 18, 2005 5:05 am <span class="post-author-inline" style="display: none;">by Strail</span></p>

			<h3><a href="#p367901" class="post-subject"></a></h3>

			

			<div class="content">Um... at the risk of sounding pretentious...
<br />
<br />yes you do <img src=smilies/icon_smile_wink.gif width=15 height=15 border=0 align=middle>
<br />
<br />This is exploration of the file, Argh you sound so defensive over the XML /FLMM method that I had to smile.
<br />
<br />I suggest that TheJkWhoSaysNi continues with this and sees what else can be done. Areas like this might appear on the surface to be limited, but its the other things that are learnt that help unlock other doors.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367902" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-9" href="javascript:void(0);">TheJkWhoSaysNi</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Wed May 18, 2005 5:18 am <span class="post-author-inline" style="display: none;">by TheJkWhoSaysNi</span></p>

			<h3><a href="#p367902" class="post-subject"></a></h3>

			

			<div class="content">You're right, there are some issues with the method, but they can be worked out or worked around, in my opinion.
<br />
<br />As for installing the mods.... XML isnt the answer to everything, and definatly not the best solution here. It would be very easy to have a program read file names from mods/modname and put them in freelancer.ini without the author needing to code anything but the mod itself. If the author wanted custom file names, you could have the program read inside the file to see what secions it contains and find out its type from that. (goods, market, equipment, ship, constant, etc)
<br />
<br />Infocards and strings, yes there is a problem here. If it were possible to edit the dlls on the fly (which i'm pretty sure it would be, with enough effort)  you'd get the problem of ID clashes, again, with more complex programming, each mod which had ID cards could be given the next available id and the inis of the mod updated accordingly.
<br />
<br />As for efficiency, if you look at freelancer.ini, you can see what freelancer does when it loads. It takes each file referenced in freelancer.ini and puts it into a data structure (a tree by the looks of it) so each markets = file gets put into a data structure that contains all the other markets info. Adding an extra file does not change this, it just means it reads another file when it loads. Adding to the original files just means it has more to load from each file. The only difference in speed is the negligible time it takes to move to the next ini file. But lets not forget it's already reading 100+ files anyway.
<br />
<br />
<br />
<br />Edited by - TheJkWhoSaysNi on 5/18/2005 6:55:34 AM</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367907" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-10" href="javascript:void(0);">Accushot</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Wed May 18, 2005 6:24 am <span class="post-author-inline" style="display: none;">by Accushot</span></p>

			<h3><a href="#p367907" class="post-subject"></a></h3>

			

			<div class="content">I can't honestly see an advantage to this method over Argh's XML method.  What's the difference between having multiple versions of each file and using XML to add multiple entries?  FLMM handles appending/removing the sections perfectly adequately.
<br />
<br />Then there are the files that <i>can't </i> be duplicated.  Sure, you can add new ships to a mod in this way, but how do you expect to get the NPC's to fly them.  There's only one, hardcoded file that deals with the NPC ships, so you'd end up modifying this one anyway.  In the same way this will prevent you from adding new factions, missions, NPC's and pilots, to name but a few.
<br />
<br />Then there is of course the danger of multiple files with the same name.  What happens when two authors name their new shiparch file &quot;mod_shiparch_2.ini&quot;, for example?
<br />
<br />The phrase &quot;If it aint broke, don't fix it&quot; springs to mind here...</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367949" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-11" href="javascript:void(0);">TheJkWhoSaysNi</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Wed May 18, 2005 12:07 pm <span class="post-author-inline" style="display: none;">by TheJkWhoSaysNi</span></p>

			<h3><a href="#p367949" class="post-subject"></a></h3>

			

			<div class="content">What are the advantages? Ease of adding/removing, keeping everything seperate, no risk of needing to restore backup ini files if a mod messes up. It also keeps everything neater. 
<br />
<br />Yes, there are restrictions although I have been looking into ways of bypassing them with limited success so far.
<br />
<br />As for name clashing, i already suggested giving mods their own directory so that shouldn't ever be a problem.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367950" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-12" href="javascript:void(0);">Chips</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Wed May 18, 2005 12:29 pm <span class="post-author-inline" style="display: none;">by Chips</span></p>

			<h3><a href="#p367950" class="post-subject"></a></h3>

			

			<div class="content">JkWhoSaysNi:
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>What are the advantages? Ease of adding/removing, keeping everything seperate, no risk of needing to restore backup ini files if a mod messes up. It also keeps everything neater..  <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />I think its safe to say carry on with what you believe in. If you think there are advantages for this, then with any work that you do - you can show the advantages of the system... hoping it catches on.
<br />
<br />However, contra to that - XML scripting can ensure mods can activate to be compatible. If its to 'build your own' - I exampled the then &quot;new&quot; options of FLMM to an extreme potential of making customised things available. The added bonus was that you activate one mod - choosing as you go along. Your method would be roughly the same (build your own) - but you will need to activate more and more versions...
<br />
<br />Pursue it though, and demonstrate its use <img src=smilies/icon_smile.gif width=15 height=15 border=0 align=middle>
<br />
<br />Argh:
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>such as hand-hacking DLLs (yuck!) <hr size=1 noshade></BLOCKQUOTE></font>
<br />Fraid some of us will never use the FLMM method. I cannot stand its generate IDS method - and much prefer to see my work in FLED-IDS. I have used it in the past, don't get me wrong. Its just I don't like it when compared to manually editing a DLL file.
<br />
<br />Edited by - Chips on 5/18/2005 1:32:07 PM</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367951" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-13" href="javascript:void(0);">Argh</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Wed May 18, 2005 12:31 pm <span class="post-author-inline" style="display: none;">by Argh</span></p>

			<h3><a href="#p367951" class="post-subject"></a></h3>

			

			<div class="content">I've taken a longer look... here's what I think.  Strail... I'm not being defensive.  I said that I was risking being pretentious because I rarely come down against somebody working on a wild and crazy idea- if we didn't have wild and crazy idea people around here, nothing would ever get done that was new.  I really, really appreciate that 	
<br />TheJkWhoSaysNi has shared this approach.  He's more than welcome to build some test cases to prove my doubts wrong, just as I have done to deal with people's doubts about some of my crazier schemes- maybe I'm just not seeing something obvious, k?  I try to remain objective about this stuff- it's all science, and if it works better than what I already know how to do, I'm going to rebuild my Toolkit to use this technique.
<br />
<br />I just don't think it works any better than what we already know how to do.
<br />
<br />Here's why.
<br />
<br />The whole adding ships to have NPCs fly them problem referred to by Accushot is just the tip of the iceberg.  You can solve that with XML in addition to the XML you'd already have to write to make a truely modular and extensible freelancer.ini... so why not go the whole way, and just make the whole thing XML?  This chicken/egg scenario keeps coming up over and over again.  Basically, you have to keep returning to XML to get things done, or hand-alter INIs all over again.  Trust me... I am in total sympathy here.  For the Toolkit, I had to also hand-edit a lot've INIs, or use very extensive grep find-and-replace techniques.  I was building it to help others build things faster, though, so I figured that the work put in now would be worth it, in terms of time saved later.
<br />
<br />But... there might be one use for this that is superior in the limited areas it can mod.  You could leave your new &quot;Argh_shiparch.ini&quot; file blank, refer to it in freelancer.ini, and then have an XML script append your ship's script to the blank file... thus creating a clean, seperate shiparch entry with Infocards (this is a trick I've used extensively for new System names, among other things).  This would give us a seperated shiparch ini that also generated DLL strings on execution.
<br />
<br />I just don't think that would do much for us, other than slightly lowering the already-low chance that our data became corrupted along the way- but that could happen anywhere along the file-transfer process.  FLMM doesn't corrupt data, in my experience, if you write your code correctly.  That's why I wrote the Toolkit Mod... to demonstrate good coding practices with XML, including sequential operations and modularity.  Since it appears that we will probably get at least one new version of FLMM (Matt is working on it now), we will have even more features to play with, which makes this approach even less attractive.
<br />
<br />For things like ship CMPs and everything aside from INIs, Freelancer allows for users to define the directory locations, etc., at will.  So we're just talking about the very few INIs that are important enough to mod, but not important enough that DA hard-coded them <img src=smilies/icon_smile_tongue.gif width=15 height=15 border=0 align=middle>
<br />
<br />And there's that problem with market_ships I was referring to earlier, whose implications seem to have been ignored.  
<br />
<br />Market_ships is one of the areas where you're going to run into serious trouble.  Why?  Because you cannot extend it, is why.  Market_ships can only be modified by replacing existing entries, or by building entirely new Bases with Mbases entries, etc.... or adding Rooms to existing Bases (which is what i've been working out for awhile now).
<br />
<br />So making a seperate market_ships for your ship to be sold on Manhatten, for example... is useless.  There are already three entries there... it won't work.  I dunno about even adding entries to shipdealers that already have one or more... and I certainly expect that if you had multiple mods with their own customized market_ships... surely they'd overwrite each other.  It sounds like a mess to me <img src=smilies/icon_smile_tongue.gif width=15 height=15 border=0 align=middle>  I'd need to see a side-by-side pair of ship mods active to test with... but I have a feeling that one of the ships simply won't show up at the Shipdealer.  Best to use XML and the stripped-down market_ships from my Toolkit to do this with, imo.
<br />
<br />I've been working on a solution to that issue for the next version of the Toolkit- a better-organized and easier-to-mod market_ships for stock FL.  It won't cover TC mods or system add-on mods, but it'll provide a better template for this kind've modding.  But it still ultimately involves some modification of the core file- you simply cannot avoid it.  You can get around it with things like ships or weapons, but when you're touching upon areas that are keys for gameplay... I think this approach breaks down.  XML/FLMM allows us better code control and greater power, and with properly-prepared INIs (which was the bulk of work put into the Toolkit) you can do a lot more with it than people think.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p367954" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-14" href="javascript:void(0);">Chips</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Wed May 18, 2005 12:42 pm <span class="post-author-inline" style="display: none;">by Chips</span></p>

			<h3><a href="#p367954" class="post-subject"></a></h3>

			

			<div class="content">Accushot keeps telling me that some files cannot be removed - but...
<br /><font size=1 face="trebuchet ms"><BLOCKQUOTE><hr size=1 noshade>
<br />goods = mods\osiris\equipment\goods.ini ;all the goods could go in the same file
<br />goods = mods\osiris\equipment\st_good.ini
<br />goods = mods\osiris\equipment\weapon_good.ini
<br />markets = mods\osiris\equipment\market_misc.ini
<br />markets = mods\osiris\equipment\market_ships.ini
<br />  <hr size=1 noshade></BLOCKQUOTE></font>
<br />
<br />The goods files say in the square brackets what the object is, and also categorises it by its category line.
<br />
<br />I think you could condense that to just one goods = file:
<br />goods = mods\osiris\equipment\osiris_goods.ini
<br />
<br />and then add all the goods into that file.
<br />Same for markets... plonk ships and weapons and commodities all into one file. After all, I do not think its the filename that matters here - its the cross-referencing that makes the difference. Give it a go, it would cut down on file numbers etc. The worst that could happen is that it crashes - and I can finally (after about 2 years of speculation without trying) stop dribbling on about it <img src=smilies/icon_smile_tongue.gif width=15 height=15 border=0 align=middle> (no - never bothered enough to actually try it).
<br />
<br />Edited by - Chips on 5/18/2005 1:43:53 PM</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>



<div class="topic-actions">
	<div class="buttons" id="viewtopic-buttons">
	
		<div class="reply-icon"><a href="" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			24 posts
			 &bull; <a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>1</strong> of <strong>2</strong></a> &bull; <span><strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php_f=18_t=39023_start=15.html">2</a></span>
		</div>
	
</div>


	<p></p><p><a href="./viewforum.php_f=18" class="left-box left" accesskey="r">Return to Freelancer General Editing Forum</a></p>

	<br /><br />
</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
</div>

	<div id="footer-clear">&nbsp;</div>
	<div class="copyright">
        <br />Hosted by <a href="https://the-starport.com">The Starport</a> &bull; Theme by <a href="https://www.stsoftware.biz/" ref="nofollow">ST Software</a>
	</div>


</div><!-- #global -->

</div>
</body>
</html>