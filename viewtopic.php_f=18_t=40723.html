<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>


<style type="text/css">
#global { width: 100%; }
</style>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />


<title>Lancers Reactor Forums &bull; View topic - mBase.ini and adding faction specific random missions</title>

<link href="./styles/ca_orbital/theme/stylesheet.css" rel="stylesheet" type="text/css" media="screen, projection" />
<link media="only screen and (max-device-width: 480px)" href="./styles/ca_orbital/theme/iphone.css" type="text/css" rel="stylesheet" />

</head>

<body id="phpbb" class="section- ltr">
<div id="main">

<p class="top"><a id="top" name="top" accesskey="t"></a></p>

<div id="global" style="margin: 0 auto;">

    <p class="skiplink"><a href="#start_here">Skip to content</a></p>

	<!-- header start -->
    <div id="topnav">
        <div class="left"></div>
        <div class="right"></div>
        <ul class="linklist topnav leftside">
            <li>
                <a href="https://the-starport.com" title="The Starport">The Starport</a>
            </li>
            <li>
                <span>&bull;</span>
                <a href="https://the-starport.net/discord" title="The Starport Discord">Discord</a>
            </li>
        </ul>
    </div>
    

	<div id="logo"><a href="./index.php.html"><img src="./styles/ca_orbital/imageset/tlr_logo.png" alt="" title=""><span>Lancers Reactor Forums</span></a></div>
	<!-- header end -->

    <div id="page-header-msg">
		<div class="block-header"><span></span><div></div></div>
       <div class="block-content"><div class="block-inner"><div class="block-inner2">
            	
		<table width="100%">
			<tbody><tr><td style="text-align:center;width:100%;">

            <h2 style="color:red;">Important Message</h2>
            <h3>You are browsing the archived Lancers Reactor forums. You cannot register or login.<br>
            The content may be outdated and links may not be functional.</h3><br>
            <h4>To get the latest in Freelancer news, mods, modding and downloads, go to<br>
            	<a href="https://the-starport.com">The-Starport</a></h4>
    	</td></tr> 
    </tbody></table>
    
    	</div></div></div>
    <div class="block-footer"><span></span><div></div></div>
	</div>
    <p></p>
	<div id="page-header">
		<div class="navbar navbar-top" id="navbar-top">
            <div class="block-header"><span></span><div></div></div>
            <div class="block-content"><div class="block-inner"><div class="block-inner2">
            <ul class="linklist navlinks">
                <li class="icon-home"><span class="home-extra"><a href="./index.php.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="./viewforum.php_f=75.html">Freelancer Editing</a> <strong>&#8249;</strong> </span><a href="./viewforum.php_f=18.html">Freelancer General Editing Forum</a></li>
            </ul>
            <div class="block-clear"></div>
            </div></div></div>
            <div class="block-footer"><span></span><div></div></div>
		</div>
	</div>
    <p></p>

	<a name="start_here"></a>

	<div id="page-body">
		<div id="content-start"></div>
<h2 class="leftside"><a href="./viewtopic.php_f=18_t=40723" id="topic-title">mBase.ini and adding faction specific random missions</a></h2>

<p class="rightside">
    
</p>
<div class="clear"></div>
<p class="forum-desc">The general place to discuss MOD''ing Freelancer! </p>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			7 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p30771" class="post">
		<div class="block-border block-block block-post block-post-first"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-0" href="javascript:void(0);">Artemas13</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Tue Sep 06, 2005 8:17 pm <span class="post-author-inline" style="display: none;">by Artemas13</span></p>

			<h3 class="first"><a href="#p30771" class="post-subject">mBase.ini and adding faction specific random missions</a></h3>

			

			<div class="content">Well, I can't put this part off any longer, so here goes....
<br />
<br />I've read every tutorial I can find on adding random missions and unlike all of the other aspects of modding I have tackled, I simply don't get this one, not one measly bit.
<br />
<br />I have the following as a starting point:
<br />
<br />Four new factions.  Two of these factions are a renamed corsairs and outcasts faction.  Their reps and empathy have been changed, and they are now lawful.
<br />
<br />The other two factions, are the Hispania Police (lawful) and OCF(unlawful).
<br />
<br />Each faction has it's own bases and/or systems.  Each new system has a general population zone containing all four factions and encounters as well as smaller zones around bases, planets, gates/holes.
<br />
<br />I still need to put in vignettes, that part I think I can handle.
<br />
<br />What I need to do is put NPCs in the bases/stations/planets.  I know how to place them, assigning a faction to each NPC, etc.  However, the part where they offer missions... that has me stumped.  What I want to do is have OCF NPCs offer missions against the three lawful factions, and the three lawful faction NPCs offer missions against the OCF.  Anyone that would be kind enough to explain this to me as the tutorials have not particularly helped, please, post here or e-mail me, or both.
<br />
<br />As always, any help is greatly appreciated and those that can help me will be noted in the thanks to section of my mod.
<br />
<br />Nemo me impune lacessit.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p381279" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-1" href="javascript:void(0);">Argh</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Tue Sep 06, 2005 10:47 pm <span class="post-author-inline" style="display: none;">by Argh</span></p>

			<h3><a href="#p381279" class="post-subject"></a></h3>

			

			<div class="content">What I have figured out, with my work on a new form of OpenSP... is that, basically... new Factions will not offer Missions against each other, no matter what you do with the INIs, nor will FL factions who don't already hate each other.  This is because the file Restart.fl controls this behavior.  Newplayer.fl is used precisely once by FL... when a new game is started for the very first time after installation.  After that, Restart.fl is used.  And that file basically has a copy of Initialworld.ini in it (among other things) which controls this behavior... <i>in single-player play </i>.  
<br />
<br />In MP... initialworld.ini, etc., do exactly what it looks like they do.  Which is why so many mods that feature new Faction behavior are MP only- until I discovered this stuff, nobody knew what was controlling this behavior, apparantly.  I'm not quite done experimenting with Restart.fl yet, but I'm going to see whether I point FL towards a different copy of it through INI changes... so that mods can alter this stuff willy-nilly and use a better version of OpenSP.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p381287" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-2" href="javascript:void(0);">Mace_166</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Wed Sep 07, 2005 2:41 am <span class="post-author-inline" style="display: none;">by Mace_166</span></p>

			<h3><a href="#p381287" class="post-subject"></a></h3>

			

			<div class="content">I'm not sure what you want us to give you, err.. As long as each faction has been added properly with all of the entries in initial_world, empathy, faction_prop, new_char and mp_new..(whatever). Then you can get missions the same as all of the other factions as long as you add their names to vinigrette_params and, if you want to, killable_solars.
<br />
<br />From the system side, you need to add a combination of different vinigrettes in order to allow missions by lawful on unlawful and missions by unlawful on to lawful. Its all do-able from FLE when you add the mission targets. 
<br />
<br />People usually recommend using the &quot;Open&quot; vinigrette type, rather than the &quot;field&quot;. Though I usually use a combinaion of the two. If you want bases to be blown up and other things then choose open, if you want just ships then choose field. Its best to keep the vinigrettes as close to the base offering the missions as possible.
<br />
<br />Mbase wise, try not to think of the four factions as a big lump, they are all separate. If your ships already fight each other, then they can offer missions ok. The lawfuls should all work at the same time. Try to keep the destroy_mission numbers the same as in other bases of the same difficulty level to guarantee you get what you want. Well, If you can add the mbase entry ok, i won't say much. I do use a generic format to my bases (cos i'm doing a big mod), meaning that all of my factions at the base are called by their Initial_world ids_name for the faction (its handy if you want to change the name later) and the bartender and other dealers are just called their basic job names.
<br />
<br />Next, In order for the missions to work properly you are going to have to add the faction's names to offer_bribes. Otherwise, the missions will still work, but the text will have hole where the name of the faction is missing.
<br />There is a tutorial written by Chips ages ago, but I can't seem to find its link in the tutorial forum. There was a post a little while back that had it in it, sorry, you're gonna have to find it.
<br />
<br />Then, as Argh says you need to delete the restart.fl in the saved game folder. I'd delete the auto_save and the saved games if you have added the factions after the games were saved. I don't think it will crash, but it might give you a hard time.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p381289" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-3" href="javascript:void(0);">Buck</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Wed Sep 07, 2005 3:37 am <span class="post-author-inline" style="display: none;">by Buck</span></p>

			<h3><a href="#p381289" class="post-subject"></a></h3>

			

			<div class="content">If you have everything set up right in terms of your factions take a look at this, it may help
<br />
<br /><!-- m --><a class="postlink" href="http://www.lancersreactor.com/t/forum/topic.asp?topic_id=40603&amp;forum_id=18&amp;Topic_Title=Heres+a+question%2E&amp;forum_title=Freelancer+General+Editing+Forum&amp;cat_title=&amp;M=False">http://www.lancersreactor.com/t/forum/t ... e=&amp;M=False</a><!-- m -->
<br />
<br />Buck Rogers
<br />Server Admin
<br />Colours Elite UK
<br /><!-- w --><a class="postlink" href="http://www.colourselite.co.uk">www.colourselite.co.uk</a><!-- w --></div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p381380" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-4" href="javascript:void(0);">unicornz</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Wed Sep 07, 2005 7:20 pm <span class="post-author-inline" style="display: none;">by unicornz</span></p>

			<h3><a href="#p381380" class="post-subject"></a></h3>

			

			<div class="content">This is for MP only..
<br />
<br />ok to get new factions to offer missions against each other this is what you need to do.
<br />
<br />Now i'm assuming that you have these new factions setup properly and they work etc.
<br />
<br />in initalworld.ini you have the faction id, now the long name id is the one we want..
<br />
<br />Now what you do is take this id whatever id you have for your new factions and add 131834 to it then tale the resulting number and put it into fled-ids and make sure it is free, take a note of it, then add 100 to that make sure its free then add 100 again, make sure its free, then lastly add 100 again, making sure that its also free.
<br />
<br />ok with me so far.. ? <img src=smilies/icon_smile.gif width=15 height=15 border=0 align=middle>
<br />ok say your faction name is (cause i cant remember) lol badguys
<br />ok so say your  id is 196937 so you add 131834 you get
<br />328771  badguys                      , now add 100
<br />
<br />328871  the badguys                 , add 100
<br />
<br />328971 badguys                          , add 100
<br />
<br />329071 the badguys
<br />
<br />hope your still with me as i aint explained anything before
<br />
<br />ok next step..
<br />
<br />data\randommissions\VignetteParams.ini
<br />
<br />what i did here was i added my &quot;good&quot; factiosn the the lines that started with Offer_group = rh_m_grp
<br />
<br />and the &quot;bad&quot; factions to the lines that started with Offer_group = rh_m_grp
<br />
<br />Now remember to set the good ones as lawful and the bad as unlawful, setup you missions and they will work prefectly..
<br />
<br />I got all this info in here from a Chip post but that was months ago and i cant remember wher it is exactly..
<br />
<br />If this aint clear enough let me know and i'll try and expand on it.
<br />I made this kinda to the point as if you've got your factions setup you'll probably know what i'm taking about..
<br />
<br />i think i started my new factions ids around 196944 they cant go too much higher just wont work but there is a workaround if your stuck, thanks to Chips again.
<br />
<br />let me know how you get on
<br />
<br />also make sure you add the new factions to the mpnewplayer.fl
<br />
<br />Edited by - unicornz on 9/7/2005 8:22:15 PM</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p381586" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-5" href="javascript:void(0);">Artemas13</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Fri Sep 09, 2005 8:50 am <span class="post-author-inline" style="display: none;">by Artemas13</span></p>

			<h3><a href="#p381586" class="post-subject"></a></h3>

			

			<div class="content">OK, so far I follow all of you.  <img src=smilies/icon_smile.gif width=15 height=15 border=0 align=middle> 
<br />
<br />1. I've added faction names to offerbriberesources.dll (changed the ones for fc_c_grp and fc_ou_grp to match the new faction names).
<br />
<br />2. I've added the new factions to a decent number of entries in VignetteParams.ini
<br />
<br />3. Added new factions to KillableSolars.ini
<br />
<br />4. Placed an experimental vignette, type = OPEN in an area with all four factions duking it out already.
<br />
<br />So far so good... Now, I just need to get those pesky NPCs to show up on my bases (back to the Tuts for that)  Here I have one question.  Do I need to change anything about (example):  misn = DestroyMission, 28.478237, 53.365005 in an NPC entry to make it match something specific from another .ini file?
<br />
<br />Again, thanks for all the help so far.... this is the last step in this mod.
<br />
<br />Oh, one other thing... will adding missions with the new factions involved crash SP?  Just curious if I need to warn folks in the Mod script and readme.
<br />
<br />
<br />
<br />Nemo me impune lacessit.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>


	<div id="p381604" class="post">
		<div class="block-border block-block block-post"><div class="block-header"><span></span><div></div></div><div class="block-content"><div class="block-inner"><div class="block-inner2">
        <div class="post-maximize" style="display: none;"></div>
        <div class="post-profile-block">
        <div class="profile-block">
        <div class="postprofile">
            <div class="profile-top">
                <p class="profile-author">
                    <a class="profile-link popup-link" id="popup-link-6" href="javascript:void(0);">Mace_166</a>
                </p>
                
            </div>
            

            <div class="profile-details">
                
            </div>
		</div>
		</div>
		</div>
		

        
		<div class="postbody">
		    <div class="post-content">
			

			<p class="author"><a href=""><img src="./styles/ca_orbital/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a> Fri Sep 09, 2005 11:08 am <span class="post-author-inline" style="display: none;">by Mace_166</span></p>

			<h3><a href="#p381604" class="post-subject"></a></h3>

			

			<div class="content">Destroy missiom 28, 58 is for a difficulty setting of D19. You can search through mbase for a similar system. To get the people in the base, do everything that you would normally. Remember that the base entries should be unique. Then copy evrything that you want to the top of the mbase file.
<br />If you have a reference to a base in mbase that dosen't exist, it will screw all of the entries after even if thry are ok. By copying them to the top it will work ok.</div>

			
            </div>

		
            <ul class="profile-icons">
        		<li class="top-icon"><a href="#top" class="top" title="Top"><span>Top</span></a></li>
                
            </ul>
		

            <div class="clear"></div>
		</div>

        

		<div class="block-clear"></div></div></div></div><div class="block-footer"><span></span><div></div></div></div>
	</div>



<div class="topic-actions">
	<div class="buttons" id="viewtopic-buttons">
	
		<div class="reply-icon"><a href="" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			7 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="./viewforum.php_f=18" class="left-box left" accesskey="r">Return to Freelancer General Editing Forum</a></p>

	<br /><br />
</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
</div>

	<div id="footer-clear">&nbsp;</div>
	<div class="copyright">
        <br />Hosted by <a href="https://the-starport.com">The Starport</a> &bull; Theme by <a href="https://www.stsoftware.biz/" ref="nofollow">ST Software</a>
	</div>


</div><!-- #global -->

</div>
</body>
</html>